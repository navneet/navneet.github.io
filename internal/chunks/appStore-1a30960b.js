import{C as l}from"./vendor-7dd5008c.js";const p=(e="sessionStorage")=>{const{subscribe:n,set:o,update:c}=l("");let s;const f=t=>s=t,m=()=>i()?e:null,b=t=>{e=t,i()},d=(t,r)=>{!a(t)||(r=JSON.stringify(r),e.setItem(t,r),o(t))},S=t=>{if(!a(t))return;const r=e.getItem(t);return r!==null&&o(t),JSON.parse(r)},g=t=>{!a(t)||(e.removeItem(t),c(r=>(t==r&&(r=""),r)))},w=()=>{!i()||(e.clear(),o(""))},a=t=>{if(!i())return!1;if(!Object.keys(s).includes(t))throw new Error("Illegal Key: "+t);return!0},i=()=>{if(!e)return!1;if(typeof e=="string"){if(!["sessionStorage","localStorage"].includes(e))return!1;try{return e=window[e],!0}catch(r){return console.error(r),!1}}else if(typeof e.getItem=="function")return!0;return!1};return{subscribe:n,getEngine:m,setEngine:b,setItem:d,getItem:S,removeItem:g,clear:w,length:{get length(){return e.length}},get allowed(){return s},set allowed(t){f(t)}}},y=p("sessionStorage");y.allowed=Object.preventExtensions({routine:{}});const u=p("localStorage");u.allowed=Object.preventExtensions({user_settings:{prep_time:5,announce_every:30,use_voice:!0,show_plank:!0,preferred_voice:null},workout:{meta:{},exercises:[],planks:[]}});const _=()=>{const e=l(Object.preventExtensions({tabataLink:"/routine/tabata",timerLink:"/routine/timer",currentLink:"/routine/tabata",stopTime:0})),n=l(Object.preventExtensions({showPlayer:!1,player:void 0,icons:{play:"bi bi-play-circle",pause:"bi bi-pause-circle"},playlist:{list:"PLHUFhflY14R-dbmlHvpF0-RoX7MUCzJMK",listType:"playlist"}})),o=I(),c=l(null);return(()=>({routine:e,music:n,userSettings:o,docBodyBgColor:c}))()},I=()=>{const e="user_settings",{subscribe:n,set:o}=l({},s=>{s(u.getItem(e))});return{subscribe:n,set:s=>{u.setItem(e,s),o(s)}}},v=_();export{v as A,u as L,y as S};
