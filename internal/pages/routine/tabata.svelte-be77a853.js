import{D as $e,S as L,i as D,s as H,w as R,x as S,y as T,H as Y,q as h,o as b,B as E,M as C,O as J,Y as te,e as B,k as O,c as W,a as K,m as j,d,b as A,g as $,G as P,K as F,T as ve,V as ye,W as we,X as Re,l as G,n as z,p as U,I as ne,Q as Z,t as N,h as q,j as Se,R as re,f as se,U as ae,a3 as Te,a2 as Ee}from"../../chunks/vendor-5de77269.js";import{g as le}from"../../chunks/navigation-bd39ff07.js";import{p as Ie}from"../../chunks/stores-a390861c.js";import{A as M,L as oe,S as x}from"../../chunks/appStore-d18b293f.js";import{r as g,R as Q,E as Pe}from"../../chunks/exerciseCard-175ef08d.js";import{V as ee,s as ie}from"../../chunks/helpers-c419cb44.js";import{F as Be,L as X,M as We,I as Oe,P as Ke,a as je}from"../../chunks/playPauseToggleIcon-b3ad00ea.js";import{T as Ce}from"../../chunks/TimeKeeper-fcf2bb72.js";import"../../chunks/singletons-a6a7384f.js";const Ve=()=>{const{subscribe:i,set:e,update:s}=$e([]),t=n=>{e(r(n.meta,n.exercises))},r=(n,u)=>{let o=[];for(let f=0;f<n.tabatas;f++)if(u.forEach((p,m)=>{const v=Object.assign({cycle:m+1,round:f+1,elapsed:0,duration:n.time_on},p);if(v.type=g.WORK,o.push(Q(v)),m<u.length-1){const y={name:"Rest",display_name:"Rest",type:g.REST,cycle:m+1,round:f+1,elapsed:0,duration:n.time_off};o.push(Q(y))}}),f<n.tabatas-1){const p={name:"Break",display_name:"Break",type:g.BREAK,cycle:0,round:f+2,elapsed:0,duration:n.rest_time};o.push(Q(p))}return o.unshift(Q({name:"Prepare",display_name:"Prep",type:g.PREP,cycle:0,round:0,elapsed:0,duration:n.prep_time})),o};return{subscribe:i,set:e,update:s,setWorkout:t,reset:()=>{s(n=>n.map(u=>(u.elapsed=0,u)))},isComplete:()=>{let n=!1;return s(u=>(n=Boolean(u.length)&&u.every(o=>o.elapsed===o.duration),u)),n},hasStarted:()=>{let n=!1;return i(o=>{o.length&&(n=o[0].elapsed>0)})(),n}}};var I=Ve();function Ae(i){let e,s;return e=new Be({props:{id:"tabataSettingsForm",title:"Tabata Settings",fieldsets:i[1]()}}),e.$on("change",i[2]),e.$on("submit",i[3]),e.$on("click",i[4]),{c(){R(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p:Y,i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function Ne(i,e,s){let t,r;C(i,I,o=>s(7,r=o));const a=M.userSettings;C(i,a,o=>s(6,t=o));const l=()=>{const o=r.find(y=>y.type===g.PREP),f=r.find(y=>y.type===g.WORK),p=r.find(y=>y.type===g.REST),m=r.find(y=>y.type===g.BREAK);return[{legend:"Runtime",inputs:[{id:"prep_time",name:"PREP",value:o?o.duration:0,label:"Prep Time (seconds)",type:"number"},{id:"time_on",name:"WORK",value:f?f.duration:0,label:"Exercise Time (seconds)",type:"number"},{id:"time_off",name:"REST",value:p?p.duration:0,label:"Rest Time (seconds)",type:"number"},{id:"rest_time",name:"BREAK",value:m?m.duration:0,label:"Break Time (seconds)",type:"number"},{id:"use_voice",name:"use_voice",checked:t.use_voice,label:"Use Voice?",type:"slider"},{id:"preferred_voice",name:"preferred_voice",value:t.preferred_voice,label:"Preferred Voice",type:"select",placeholder:"Available Voices",options:ee.getVoices(null,!0)}]}]},c=o=>{switch(o.currentTarget.name){case"PREP":case"WORK":case"REST":case"BREAK":const f=parseInt(o.currentTarget.value);isNaN(f)||I.update(p=>(p.forEach((m,v)=>{m.type===g[o.currentTarget.name]&&p[v].elapsed!==p[v].duration&&(p[v].duration=f)}),p));break;case"use_voice":J(a,t.use_voice=o.currentTarget.checked,t);break;case"preferred_voice":J(a,t.preferred_voice=o.currentTarget.value,t),ee.defaultVoice=t.preferred_voice;break}};function n(o){te.call(this,i,o)}function u(o){te.call(this,i,o)}return[a,l,c,n,u]}class qe extends L{constructor(e){super();D(this,e,Ne,Ae,H,{})}}function Le(i){let e,s,t,r,a,l,c,n,u;return s=new X({props:{label:"Elapsed",value:i[0]}}),r=new X({props:{label:"Remaining",value:i[1]}}),l=new X({props:{label:"Cycles",value:i[2]}}),n=new X({props:{label:"Tabatas",value:i[3]}}),{c(){e=B("div"),R(s.$$.fragment),t=O(),R(r.$$.fragment),a=O(),R(l.$$.fragment),c=O(),R(n.$$.fragment),this.h()},l(o){e=W(o,"DIV",{class:!0});var f=K(e);S(s.$$.fragment,f),t=j(f),S(r.$$.fragment,f),a=j(f),S(l.$$.fragment,f),c=j(f),S(n.$$.fragment,f),f.forEach(d),this.h()},h(){A(e,"class","svelte-1ujgwto")},m(o,f){$(o,e,f),T(s,e,null),P(e,t),T(r,e,null),P(e,a),T(l,e,null),P(e,c),T(n,e,null),u=!0},p(o,[f]){const p={};f&1&&(p.value=o[0]),s.$set(p);const m={};f&2&&(m.value=o[1]),r.$set(m);const v={};f&4&&(v.value=o[2]),l.$set(v);const y={};f&8&&(y.value=o[3]),n.$set(y)},i(o){u||(h(s.$$.fragment,o),h(r.$$.fragment,o),h(l.$$.fragment,o),h(n.$$.fragment,o),u=!0)},o(o){b(s.$$.fragment,o),b(r.$$.fragment,o),b(l.$$.fragment,o),b(n.$$.fragment,o),u=!1},d(o){o&&d(e),E(s),E(r),E(l),E(n)}}}function De(i,e,s){let t="00:00",r="00:00",a="0/0",l="0/0";const c=I.subscribe(n=>{if(!n.length)return;const u=n.findIndex(p=>p.elapsed<p.duration);if(u===-1)return;const o=n.reduce((p,m)=>p+m.elapsed,0),f=n.reduce((p,m)=>p+m.duration,0);s(0,t=ie(o)),s(1,r=ie(f-o)),s(2,a=n[u].cycle+"/"+n[n.length-1].cycle),s(3,l=n[u].round+"/"+n[n.length-1].round)});return F(()=>c()),[t,r,a,l]}class He extends L{constructor(e){super();D(this,e,De,Le,H,{})}}function Ge(i){let e,s;const t=i[1].default,r=ve(t,i,i[0],null);return{c(){e=B("div"),r&&r.c(),this.h()},l(a){e=W(a,"DIV",{class:!0});var l=K(e);r&&r.l(l),l.forEach(d),this.h()},h(){A(e,"class","svelte-1t55ahf")},m(a,l){$(a,e,l),r&&r.m(e,null),s=!0},p(a,[l]){r&&r.p&&(!s||l&1)&&ye(r,t,a,a[0],s?Re(t,a[0],l,null):we(a[0]),null)},i(a){s||(h(r,a),s=!0)},o(a){b(r,a),s=!1},d(a){a&&d(e),r&&r.d(a)}}}function Ye(i,e,s){let{$$slots:t={},$$scope:r}=e;return i.$$set=a=>{"$$scope"in a&&s(0,r=a.$$scope)},[r,t]}class ze extends L{constructor(e){super();D(this,e,Ye,Ge,H,{})}}function ce(i,e,s){const t=i.slice();return t[6]=e[s],t}function ue(i,e,s){const t=i.slice();return t[9]=e[s],t}function Ue(i){let e,s;return e=new Pe({props:{name:i[9].display_name,completed:i[9].duration===i[9].elapsed,region:i[9].region,target:i[9].target,band_pos:i[9].band_pos,band_pos_text:i[9].band_pos_text}}),{c(){R(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p(t,r){const a={};r&2&&(a.name=t[9].display_name),r&2&&(a.completed=t[9].duration===t[9].elapsed),r&2&&(a.region=t[9].region),r&2&&(a.target=t[9].target),r&2&&(a.band_pos=t[9].band_pos),r&2&&(a.band_pos_text=t[9].band_pos_text),e.$set(a)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function Fe(i){let e,s=i[9].display_name+"",t;return{c(){e=B("h2"),t=N(s),this.h()},l(r){e=W(r,"H2",{class:!0});var a=K(e);t=q(a,s),a.forEach(d),this.h()},h(){A(e,"class","rest-item svelte-n7t0x8")},m(r,a){$(r,e,a),P(e,t)},p(r,a){a&2&&s!==(s=r[9].display_name+"")&&Se(t,s)},i:Y,o:Y,d(r){r&&d(e)}}}function fe(i){let e,s,t,r;const a=[Fe,Ue],l=[];function c(n,u){return n[9].type!==g.WORK?0:1}return e=c(i),s=l[e]=a[e](i),{c(){s.c(),t=G()},l(n){s.l(n),t=G()},m(n,u){l[e].m(n,u),$(n,t,u),r=!0},p(n,u){let o=e;e=c(n),e===o?l[e].p(n,u):(z(),b(l[o],1,1,()=>{l[o]=null}),U(),s=l[e],s?s.p(n,u):(s=l[e]=a[e](n),s.c()),h(s,1),s.m(t.parentNode,t))},i(n){r||(h(s),r=!0)},o(n){b(s),r=!1},d(n){l[e].d(n),n&&d(t)}}}function pe(i){let e,s,t,r=i[6],a=[];for(let c=0;c<r.length;c+=1)a[c]=fe(ue(i,r,c));const l=c=>b(a[c],1,1,()=>{a[c]=null});return{c(){e=B("li");for(let c=0;c<a.length;c+=1)a[c].c();s=O(),this.h()},l(c){e=W(c,"LI",{class:!0});var n=K(e);for(let u=0;u<a.length;u+=1)a[u].l(n);s=j(n),n.forEach(d),this.h()},h(){A(e,"class","svelte-n7t0x8")},m(c,n){$(c,e,n);for(let u=0;u<a.length;u+=1)a[u].m(e,null);P(e,s),t=!0},p(c,n){if(n&6){r=c[6];let u;for(u=0;u<r.length;u+=1){const o=ue(c,r,u);a[u]?(a[u].p(o,n),h(a[u],1)):(a[u]=fe(o),a[u].c(),h(a[u],1),a[u].m(e,s))}for(z(),u=r.length;u<a.length;u+=1)l(u);U()}},i(c){if(!t){for(let n=0;n<r.length;n+=1)h(a[n]);t=!0}},o(c){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)b(a[n]);t=!1},d(c){c&&d(e),ne(a,c)}}}function Qe(i){let e,s,t=i[2](i[1]),r=[];for(let l=0;l<t.length;l+=1)r[l]=pe(ce(i,t,l));const a=l=>b(r[l],1,1,()=>{r[l]=null});return{c(){e=B("ol");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=W(l,"OL",{class:!0});var c=K(e);for(let n=0;n<r.length;n+=1)r[n].l(c);c.forEach(d),this.h()},h(){A(e,"class","svelte-n7t0x8")},m(l,c){$(l,e,c);for(let n=0;n<r.length;n+=1)r[n].m(e,null);i[4](e),s=!0},p(l,c){if(c&6){t=l[2](l[1]);let n;for(n=0;n<t.length;n+=1){const u=ce(l,t,n);r[n]?(r[n].p(u,c),h(r[n],1)):(r[n]=pe(u),r[n].c(),h(r[n],1),r[n].m(e,null))}for(z(),n=t.length;n<r.length;n+=1)a(n);U()}},i(l){if(!s){for(let c=0;c<t.length;c+=1)h(r[c]);s=!0}},o(l){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)b(r[c]);s=!1},d(l){l&&d(e),ne(r,l),i[4](null)}}}function Xe(i){let e,s;return e=new ze({props:{$$slots:{default:[Qe]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p(t,[r]){const a={};r&4099&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function Je(i,e,s){let t;C(i,I,u=>s(1,t=u));const r=u=>{const o=[];return u.forEach((f,p)=>{p%2!=0&&o.push([u[p-1],f])}),o};let a,{active:l}=e;const c=I.subscribe(u=>{if(!u.length||!l)return;const o=u.findIndex(m=>m.elapsed<m.duration&&m.type===g.WORK);if(o===-1)return;const f=Math.ceil(o/2)-1,p=a.children[f];a.scrollTo({top:p.offsetHeight*f,behavior:"smooth"})});F(()=>c());function n(u){Z[u?"unshift":"push"](()=>{a=u,s(0,a)})}return i.$$set=u=>{"active"in u&&s(3,l=u.active)},[a,t,r,l,n]}class Ze extends L{constructor(e){super();D(this,e,Je,Xe,H,{active:3})}}function Me(i){let e,s;return e=new He({}),{c(){R(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function xe(i){let e,s,t,r,a,l,c,n;function u(f){i[8](f)}let o={timeKeeper:i[3],value:i[1],$$slots:{default:[Me]},$$scope:{ctx:i}};return i[0]!==void 0&&(o.active=i[0]),e=new We({props:o}),Z.push(()=>re(e,"active",u)),r=new Oe({props:{buttons:i[6]()}}),r.$on("click",i[5]),c=new Ze({props:{active:i[0]}}),{c(){R(e.$$.fragment),t=O(),a=B("div"),R(r.$$.fragment),l=O(),R(c.$$.fragment),this.h()},l(f){S(e.$$.fragment,f),t=j(f),a=W(f,"DIV",{style:!0});var p=K(a);S(r.$$.fragment,p),l=j(f),S(c.$$.fragment,f),this.h()},h(){se(a,"display","contents"),se(a,"--theme-icon-size","1.6rem")},m(f,p){T(e,f,p),$(f,t,p),$(f,a,p),T(r,a,null),$(f,l,p),T(c,f,p),n=!0},p(f,[p]){const m={};p&2&&(m.value=f[1]),p&1048576&&(m.$$scope={dirty:p,ctx:f}),!s&&p&1&&(s=!0,m.active=f[0],ae(()=>s=!1)),e.$set(m);const v={};p&1&&(v.active=f[0]),c.$set(v)},i(f){n||(h(e.$$.fragment,f),h(r.$$.fragment,f),h(c.$$.fragment,f),n=!0)},o(f){b(e.$$.fragment,f),b(r.$$.fragment,f),b(c.$$.fragment,f),n=!1},d(f){E(e,f),f&&d(t),f&&d(a),E(r,f),f&&d(l),E(c,f)}}}function et(i,e,s){let t,r,a,l;C(i,I,_=>s(9,t=_));let{settingsOpen:c=!1}=e,n;const u=M.userSettings;C(i,u,_=>s(11,a=_));const o=M.docBodyBgColor,f=Ce();C(i,f,_=>s(10,r=_));const p=_=>Object.entries(g).reduce((w,k)=>k[1]===t[_].type?k[0]:w,null),m=()=>t.findIndex(_=>_.elapsed<_.duration),v=()=>{const _=t.findIndex(V=>V.type===g.WORK&&V.elapsed===0);if(_===-1)return"";const w=t[_];let k=`Next Exercise is ${w.display_name}
`;return w.band_pos>0&&(k+=`Band's Position: ${w.band_pos_text}`),k},y=Te(I,_=>{if(!_.length||!I.hasStarted())return 0;const w=m();if(w===-1)return 0;const k=_[w];return k.duration-k.elapsed});C(i,y,_=>s(1,l=_));const _e=_=>{if(!a.use_voice||!f.isTicking())return;const w=m();if(w===-1)return;let k="";const V=t[w];switch(V.elapsed){case 0:switch(V.type){case g.WORK:k+=`Go
`;break;case g.REST:case g.BREAK:k+=`Stop
`;break}break;case 1:switch(V.type){case g.REST:k+=`Rest
`;break;case g.BREAK:k+=`Break
`;break;case g.PREP:k+=`Prep
`;break}break;case 2:switch(V.type){case g.REST:case g.PREP:k+=v();break}break}if(_<4)k+=`${_}
`;else if(V.type===g.BREAK)switch(_){case 14:k+=v();break;case 15:k+=`Get Ready
`;break}else I.isComplete()&&(k+=`Well done
`);k.length&&ee.speak(k)},me=_=>{const w=m();w==-1||r===0?o.set(null):(f.isTicking()&&!document.body.classList.length||_===t[w].duration)&&o.set(p(w))},de=_=>{switch(f.isTicking()&&f.stop(),_.currentTarget.dataset.action){case"reset":s(0,n=!1),f.reset(),I.reset();break;case"settings_open":s(7,c=!0);break}},he=()=>[{icon:"bi bi-bootstrap-reboot",title:"Reset",data:{"data-action":"reset"}},{component:Ke,props:{}},{icon:"bi bi-gear-wide-connected",title:"Timer Settings",data:{"data-action":"settings_open"}}],be=f.subscribe(()=>{const _=m();_!==-1&&f.isTicking()&&J(I,t[_].elapsed+=1,t)}),ge=y.subscribe(_=>{_e(_),me(_)});F(()=>{be(),ge(),o.set(null)});function ke(_){n=_,s(0,n)}return i.$$set=_=>{"settingsOpen"in _&&s(7,c=_.settingsOpen)},[n,l,u,f,y,de,he,c,ke]}class tt extends L{constructor(e){super();D(this,e,et,xe,H,{settingsOpen:7})}}function nt(i){let e,s,t,r;const a=[at,st],l=[];function c(n,u){return n[0]?0:n[1].length?1:-1}return~(e=c(i))&&(s=l[e]=a[e](i)),{c(){s&&s.c(),t=G()},l(n){s&&s.l(n),t=G()},m(n,u){~e&&l[e].m(n,u),$(n,t,u),r=!0},p(n,u){let o=e;e=c(n),e===o?~e&&l[e].p(n,u):(s&&(z(),b(l[o],1,1,()=>{l[o]=null}),U()),~e?(s=l[e],s?s.p(n,u):(s=l[e]=a[e](n),s.c()),h(s,1),s.m(t.parentNode,t)):s=null)},i(n){r||(h(s),r=!0)},o(n){b(s),r=!1},d(n){~e&&l[e].d(n),n&&d(t)}}}function rt(i){let e,s,t;function r(c,n){return c[3]?ot:lt}let l=r(i)(i);return s=new je({props:{label:"Create New Workout",type:"button",name:"create",id:"create"}}),s.$on("click",i[5]),{c(){l.c(),e=O(),R(s.$$.fragment)},l(c){l.l(c),e=j(c),S(s.$$.fragment,c)},m(c,n){l.m(c,n),$(c,e,n),T(s,c,n),t=!0},p:Y,i(c){t||(h(s.$$.fragment,c),t=!0)},o(c){b(s.$$.fragment,c),t=!1},d(c){l.d(c),c&&d(e),E(s,c)}}}function st(i){let e,s,t;function r(l){i[8](l)}let a={};return i[0]!==void 0&&(a.settingsOpen=i[0]),e=new tt({props:a}),Z.push(()=>re(e,"settingsOpen",r)),{c(){R(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,c){T(e,l,c),t=!0},p(l,c){const n={};!s&&c&1&&(s=!0,n.settingsOpen=l[0],ae(()=>s=!1)),e.$set(n)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){E(e,l)}}}function at(i){let e,s;return e=new qe({}),e.$on("click",i[6]),e.$on("submit",i[7]),{c(){R(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p:Y,i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function lt(i){let e,s,t,r,a,l,c;return{c(){e=B("h2"),s=N("No Workout!"),t=O(),r=B("p"),a=N("You are in need of a workout."),l=B("br"),c=N("Please create one."),this.h()},l(n){e=W(n,"H2",{class:!0});var u=K(e);s=q(u,"No Workout!"),u.forEach(d),t=j(n),r=W(n,"P",{});var o=K(r);a=q(o,"You are in need of a workout."),l=W(o,"BR",{}),c=q(o,"Please create one."),o.forEach(d),this.h()},h(){A(e,"class","center")},m(n,u){$(n,e,u),P(e,s),$(n,t,u),$(n,r,u),P(r,a),P(r,l),P(r,c)},d(n){n&&d(e),n&&d(t),n&&d(r)}}}function ot(i){let e,s,t,r,a,l,c;return{c(){e=B("h2"),s=N("Workout not found!"),t=O(),r=B("p"),a=N("The workout you are looking for was not found."),l=B("br"),c=N("Perhaps it has expired. Please create a new workout"),this.h()},l(n){e=W(n,"H2",{class:!0});var u=K(e);s=q(u,"Workout not found!"),u.forEach(d),t=j(n),r=W(n,"P",{});var o=K(r);a=q(o,"The workout you are looking for was not found."),l=W(o,"BR",{}),c=q(o,"Perhaps it has expired. Please create a new workout"),o.forEach(d),this.h()},h(){A(e,"class","center")},m(n,u){$(n,e,u),P(e,s),$(n,t,u),$(n,r,u),P(r,a),P(r,l),P(r,c)},d(n){n&&d(e),n&&d(t),n&&d(r)}}}function it(i){let e,s,t,r,a,l;const c=[rt,nt],n=[];function u(o,f){return f&4&&(s=null),o[3]||!o[1].length?0:(s==null&&(s=!o[2].url.searchParams.has("w")),s?1:-1)}return~(t=u(i,-1))&&(r=n[t]=c[t](i)),{c(){e=O(),r&&r.c(),a=G(),this.h()},l(o){Ee('[data-svelte="svelte-1jsep15"]',document.head).forEach(d),e=j(o),r&&r.l(o),a=G(),this.h()},h(){document.title="SWEAT Tabata"},m(o,f){$(o,e,f),~t&&n[t].m(o,f),$(o,a,f),l=!0},p(o,[f]){let p=t;t=u(o,f),t===p?~t&&n[t].p(o,f):(r&&(z(),b(n[p],1,1,()=>{n[p]=null}),U()),~t?(r=n[t],r?r.p(o,f):(r=n[t]=c[t](o),r.c()),h(r,1),r.m(a.parentNode,a)):r=null)},i(o){l||(h(r),l=!0)},o(o){b(r),l=!1},d(o){o&&d(e),~t&&n[t].d(o),o&&d(a)}}}async function $t({url:i,fetch:e}){const s={queryWorkout:void 0};if(i.searchParams.has("w")){const t=await ct(i.searchParams.get("w"),e);s.queryWorkout=t||null}return{props:s}}const ct=(i,e=null)=>new Promise(async s=>{e||(e=fetch);let t=null,r="https://kalabaaz.pythonanywhere.com";r+=`/api/tabata/${i}.json`;const a=await e(r,{credentials:"include"});a.ok&&(t=await a.json()),s(t)});function ut(i,e,s){let t,r;C(i,I,p=>s(1,t=p)),C(i,Ie,p=>s(2,r=p));let{queryWorkout:a=void 0}=e,l,c=r.url.searchParams.has("w")&&a===null;if(a)oe.setItem("workout",a),x.setItem("routine",[]),le("/routine/tabata",{replaceState:!0});else if(!c){const p=x.getItem("routine");if(p.length)I.set(p);else{const m=oe.getItem("workout");m&&I.setWorkout(m)}F(()=>x.setItem("routine",t))}const n=()=>le("/workout",{replaceState:!0}),u=()=>s(0,l=!l),o=()=>s(0,l=!l);function f(p){l=p,s(0,l)}return i.$$set=p=>{"queryWorkout"in p&&s(4,a=p.queryWorkout)},[l,t,r,c,a,n,u,o,f]}class vt extends L{constructor(e){super();D(this,e,ut,it,H,{queryWorkout:4})}}export{vt as default,$t as load};
