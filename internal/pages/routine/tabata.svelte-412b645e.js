import{D as ve,S as L,i as D,s as H,w as S,x as E,y as R,H as U,q as b,o as g,B as T,M as C,O as M,Y as re,e as B,k as O,c as W,a as K,m as j,d as h,b as A,g as v,G as P,K as F,T as ye,V as we,W as Se,X as Ee,l as G,n as Y,p as z,I as ne,Q as x,t as N,h as q,j as Re,R as se,f as ae,U as oe,a3 as Te,a2 as Ie}from"../../chunks/vendor-5de77269.js";import{p as Pe}from"../../chunks/stores-a390861c.js";import{g as le}from"../../chunks/navigation-bd39ff07.js";import{A as X,S as ee,L as ie}from"../../chunks/appStore-a9303580.js";import{r as k,R as J,E as Be}from"../../chunks/exerciseCard-175ef08d.js";import{V as te,s as ce}from"../../chunks/helpers-c419cb44.js";import{F as We,L as Z,M as Oe,I as Ke,P as je,a as Ce}from"../../chunks/playPauseToggleIcon-69d4c21c.js";import{T as Ve}from"../../chunks/TimeKeeper-fcf2bb72.js";import"../../chunks/singletons-a6a7384f.js";const Ae=()=>{const{subscribe:l,set:e,update:s}=ve([]),r=n=>{e(t(n.meta,n.exercises))},t=(n,c)=>{let u=[];for(let f=0;f<n.tabatas;f++)if(c.forEach((p,m)=>{const y=Object.assign({cycle:m+1,round:f+1,elapsed:0,duration:n.time_on},p);if(y.type=k.WORK,u.push(J(y)),m<c.length-1){const d={name:"Rest",display_name:"Rest",type:k.REST,cycle:m+1,round:f+1,elapsed:0,duration:n.time_off};u.push(J(d))}}),f<n.tabatas-1){const p={name:"Break",display_name:"Break",type:k.BREAK,cycle:0,round:f+2,elapsed:0,duration:n.rest_time};u.push(J(p))}return u.unshift(J({name:"Prepare",display_name:"Prep",type:k.PREP,cycle:0,round:0,elapsed:0,duration:n.prep_time})),u};return{subscribe:l,set:e,update:s,setWorkout:r,reset:()=>{s(n=>n.map(c=>(c.elapsed=0,c)))},isComplete:()=>{let n=!1;return s(c=>(n=Boolean(c.length)&&c.every(u=>u.elapsed===u.duration),c)),n},hasStarted:()=>{let n=!1;return l(u=>{u.length&&(n=u[0].elapsed>0)})(),n}}};var I=Ae();function Ne(l){let e,s;return e=new We({props:{id:"tabataSettingsForm",title:"Tabata Settings",fieldsets:l[1]()}}),e.$on("change",l[2]),e.$on("submit",l[3]),e.$on("click",l[4]),{c(){S(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,t){R(e,r,t),s=!0},p:U,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){g(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function qe(l,e,s){let r,t;C(l,I,u=>s(7,t=u));const a=X.userSettings;C(l,a,u=>s(6,r=u));const o=()=>{const u=t.find(d=>d.type===k.PREP),f=t.find(d=>d.type===k.WORK),p=t.find(d=>d.type===k.REST),m=t.find(d=>d.type===k.BREAK);return[{legend:"Runtime",inputs:[{id:"prep_time",name:"PREP",value:u?u.duration:0,label:"Prep Time (seconds)",type:"number"},{id:"time_on",name:"WORK",value:f?f.duration:0,label:"Exercise Time (seconds)",type:"number"},{id:"time_off",name:"REST",value:p?p.duration:0,label:"Rest Time (seconds)",type:"number"},{id:"rest_time",name:"BREAK",value:m?m.duration:0,label:"Break Time (seconds)",type:"number"},{id:"use_voice",name:"use_voice",checked:r.use_voice,label:"Use Voice?",type:"slider"},{id:"preferred_voice",name:"preferred_voice",value:r.preferred_voice,label:"Preferred Voice",type:"select",placeholder:"Available Voices",options:te.getVoices(null,!0)}]}]},i=u=>{switch(u.currentTarget.name){case"PREP":case"WORK":case"REST":case"BREAK":const f=parseInt(u.currentTarget.value);isNaN(f)||I.update(p=>(p.forEach((m,y)=>{m.type===k[u.currentTarget.name]&&p[y].elapsed!==p[y].duration&&(p[y].duration=f)}),p));break;case"use_voice":M(a,r.use_voice=u.currentTarget.checked,r);break;case"preferred_voice":M(a,r.preferred_voice=u.currentTarget.value,r),te.defaultVoice=r.preferred_voice;break}};function n(u){re.call(this,l,u)}function c(u){re.call(this,l,u)}return[a,o,i,n,c]}class Le extends L{constructor(e){super();D(this,e,qe,Ne,H,{})}}function De(l){let e,s,r,t,a,o,i,n,c;return s=new Z({props:{label:"Elapsed",value:l[0]}}),t=new Z({props:{label:"Remaining",value:l[1]}}),o=new Z({props:{label:"Cycles",value:l[2]}}),n=new Z({props:{label:"Tabatas",value:l[3]}}),{c(){e=B("div"),S(s.$$.fragment),r=O(),S(t.$$.fragment),a=O(),S(o.$$.fragment),i=O(),S(n.$$.fragment),this.h()},l(u){e=W(u,"DIV",{class:!0});var f=K(e);E(s.$$.fragment,f),r=j(f),E(t.$$.fragment,f),a=j(f),E(o.$$.fragment,f),i=j(f),E(n.$$.fragment,f),f.forEach(h),this.h()},h(){A(e,"class","svelte-1ujgwto")},m(u,f){v(u,e,f),R(s,e,null),P(e,r),R(t,e,null),P(e,a),R(o,e,null),P(e,i),R(n,e,null),c=!0},p(u,[f]){const p={};f&1&&(p.value=u[0]),s.$set(p);const m={};f&2&&(m.value=u[1]),t.$set(m);const y={};f&4&&(y.value=u[2]),o.$set(y);const d={};f&8&&(d.value=u[3]),n.$set(d)},i(u){c||(b(s.$$.fragment,u),b(t.$$.fragment,u),b(o.$$.fragment,u),b(n.$$.fragment,u),c=!0)},o(u){g(s.$$.fragment,u),g(t.$$.fragment,u),g(o.$$.fragment,u),g(n.$$.fragment,u),c=!1},d(u){u&&h(e),T(s),T(t),T(o),T(n)}}}function He(l,e,s){let r="00:00",t="00:00",a="0/0",o="0/0";const i=I.subscribe(n=>{if(!n.length)return;const c=n.findIndex(p=>p.elapsed<p.duration);if(c===-1)return;const u=n.reduce((p,m)=>p+m.elapsed,0),f=n.reduce((p,m)=>p+m.duration,0);s(0,r=ce(u)),s(1,t=ce(f-u)),s(2,a=n[c].cycle+"/"+n[n.length-1].cycle),s(3,o=n[c].round+"/"+n[n.length-1].round)});return F(()=>i()),[r,t,a,o]}class Ge extends L{constructor(e){super();D(this,e,He,De,H,{})}}function Ye(l){let e,s;const r=l[1].default,t=ye(r,l,l[0],null);return{c(){e=B("div"),t&&t.c(),this.h()},l(a){e=W(a,"DIV",{class:!0});var o=K(e);t&&t.l(o),o.forEach(h),this.h()},h(){A(e,"class","svelte-1t55ahf")},m(a,o){v(a,e,o),t&&t.m(e,null),s=!0},p(a,[o]){t&&t.p&&(!s||o&1)&&we(t,r,a,a[0],s?Ee(r,a[0],o,null):Se(a[0]),null)},i(a){s||(b(t,a),s=!0)},o(a){g(t,a),s=!1},d(a){a&&h(e),t&&t.d(a)}}}function ze(l,e,s){let{$$slots:r={},$$scope:t}=e;return l.$$set=a=>{"$$scope"in a&&s(0,t=a.$$scope)},[t,r]}class Qe extends L{constructor(e){super();D(this,e,ze,Ye,H,{})}}function ue(l,e,s){const r=l.slice();return r[6]=e[s],r}function fe(l,e,s){const r=l.slice();return r[9]=e[s],r}function Ue(l){let e,s;return e=new Be({props:{name:l[9].display_name,completed:l[9].duration===l[9].elapsed,region:l[9].region,target:l[9].target,band_pos:l[9].band_pos,band_pos_text:l[9].band_pos_text}}),{c(){S(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,t){R(e,r,t),s=!0},p(r,t){const a={};t&2&&(a.name=r[9].display_name),t&2&&(a.completed=r[9].duration===r[9].elapsed),t&2&&(a.region=r[9].region),t&2&&(a.target=r[9].target),t&2&&(a.band_pos=r[9].band_pos),t&2&&(a.band_pos_text=r[9].band_pos_text),e.$set(a)},i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){g(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function Fe(l){let e,s=l[9].display_name+"",r;return{c(){e=B("h2"),r=N(s),this.h()},l(t){e=W(t,"H2",{class:!0});var a=K(e);r=q(a,s),a.forEach(h),this.h()},h(){A(e,"class","rest-item svelte-n7t0x8")},m(t,a){v(t,e,a),P(e,r)},p(t,a){a&2&&s!==(s=t[9].display_name+"")&&Re(r,s)},i:U,o:U,d(t){t&&h(e)}}}function pe(l){let e,s,r,t;const a=[Fe,Ue],o=[];function i(n,c){return n[9].type!==k.WORK?0:1}return e=i(l),s=o[e]=a[e](l),{c(){s.c(),r=G()},l(n){s.l(n),r=G()},m(n,c){o[e].m(n,c),v(n,r,c),t=!0},p(n,c){let u=e;e=i(n),e===u?o[e].p(n,c):(Y(),g(o[u],1,1,()=>{o[u]=null}),z(),s=o[e],s?s.p(n,c):(s=o[e]=a[e](n),s.c()),b(s,1),s.m(r.parentNode,r))},i(n){t||(b(s),t=!0)},o(n){g(s),t=!1},d(n){o[e].d(n),n&&h(r)}}}function _e(l){let e,s,r,t=l[6],a=[];for(let i=0;i<t.length;i+=1)a[i]=pe(fe(l,t,i));const o=i=>g(a[i],1,1,()=>{a[i]=null});return{c(){e=B("li");for(let i=0;i<a.length;i+=1)a[i].c();s=O(),this.h()},l(i){e=W(i,"LI",{class:!0});var n=K(e);for(let c=0;c<a.length;c+=1)a[c].l(n);s=j(n),n.forEach(h),this.h()},h(){A(e,"class","svelte-n7t0x8")},m(i,n){v(i,e,n);for(let c=0;c<a.length;c+=1)a[c].m(e,null);P(e,s),r=!0},p(i,n){if(n&6){t=i[6];let c;for(c=0;c<t.length;c+=1){const u=fe(i,t,c);a[c]?(a[c].p(u,n),b(a[c],1)):(a[c]=pe(u),a[c].c(),b(a[c],1),a[c].m(e,s))}for(Y(),c=t.length;c<a.length;c+=1)o(c);z()}},i(i){if(!r){for(let n=0;n<t.length;n+=1)b(a[n]);r=!0}},o(i){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)g(a[n]);r=!1},d(i){i&&h(e),ne(a,i)}}}function Xe(l){let e,s,r=l[2](l[1]),t=[];for(let o=0;o<r.length;o+=1)t[o]=_e(ue(l,r,o));const a=o=>g(t[o],1,1,()=>{t[o]=null});return{c(){e=B("ol");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=W(o,"OL",{class:!0});var i=K(e);for(let n=0;n<t.length;n+=1)t[n].l(i);i.forEach(h),this.h()},h(){A(e,"class","svelte-n7t0x8")},m(o,i){v(o,e,i);for(let n=0;n<t.length;n+=1)t[n].m(e,null);l[4](e),s=!0},p(o,i){if(i&6){r=o[2](o[1]);let n;for(n=0;n<r.length;n+=1){const c=ue(o,r,n);t[n]?(t[n].p(c,i),b(t[n],1)):(t[n]=_e(c),t[n].c(),b(t[n],1),t[n].m(e,null))}for(Y(),n=r.length;n<t.length;n+=1)a(n);z()}},i(o){if(!s){for(let i=0;i<r.length;i+=1)b(t[i]);s=!0}},o(o){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)g(t[i]);s=!1},d(o){o&&h(e),ne(t,o),l[4](null)}}}function Je(l){let e,s;return e=new Qe({props:{$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){S(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,t){R(e,r,t),s=!0},p(r,[t]){const a={};t&4099&&(a.$$scope={dirty:t,ctx:r}),e.$set(a)},i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){g(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function Ze(l,e,s){let r;C(l,I,c=>s(1,r=c));const t=c=>{const u=[];return c.forEach((f,p)=>{p%2!=0&&u.push([c[p-1],f])}),u};let a,{active:o}=e;const i=I.subscribe(c=>{if(!c.length||!o)return;const u=c.findIndex(m=>m.elapsed<m.duration&&m.type===k.WORK);if(u===-1)return;const f=Math.ceil(u/2)-1,p=a.children[f];a.scrollTo({top:p.offsetHeight*f,behavior:"smooth"})});F(()=>i());function n(c){x[c?"unshift":"push"](()=>{a=c,s(0,a)})}return l.$$set=c=>{"active"in c&&s(3,o=c.active)},[a,r,t,o,n]}class Me extends L{constructor(e){super();D(this,e,Ze,Je,H,{active:3})}}function xe(l){let e,s;return e=new Ge({}),{c(){S(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,t){R(e,r,t),s=!0},i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){g(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function et(l){let e,s,r,t,a,o,i,n;function c(f){l[8](f)}let u={timeKeeper:l[3],value:l[1],$$slots:{default:[xe]},$$scope:{ctx:l}};return l[0]!==void 0&&(u.active=l[0]),e=new Oe({props:u}),x.push(()=>se(e,"active",c)),t=new Ke({props:{buttons:l[6]()}}),t.$on("click",l[5]),i=new Me({props:{active:l[0]}}),{c(){S(e.$$.fragment),r=O(),a=B("div"),S(t.$$.fragment),o=O(),S(i.$$.fragment),this.h()},l(f){E(e.$$.fragment,f),r=j(f),a=W(f,"DIV",{style:!0});var p=K(a);E(t.$$.fragment,p),o=j(f),E(i.$$.fragment,f),this.h()},h(){ae(a,"display","contents"),ae(a,"--theme-icon-size","1.6rem")},m(f,p){R(e,f,p),v(f,r,p),v(f,a,p),R(t,a,null),v(f,o,p),R(i,f,p),n=!0},p(f,[p]){const m={};p&2&&(m.value=f[1]),p&1048576&&(m.$$scope={dirty:p,ctx:f}),!s&&p&1&&(s=!0,m.active=f[0],oe(()=>s=!1)),e.$set(m);const y={};p&1&&(y.active=f[0]),i.$set(y)},i(f){n||(b(e.$$.fragment,f),b(t.$$.fragment,f),b(i.$$.fragment,f),n=!0)},o(f){g(e.$$.fragment,f),g(t.$$.fragment,f),g(i.$$.fragment,f),n=!1},d(f){T(e,f),f&&h(r),f&&h(a),T(t,f),f&&h(o),T(i,f)}}}function tt(l,e,s){let r,t,a,o;C(l,I,_=>s(9,r=_));let{settingsOpen:i=!1}=e,n;const c=X.userSettings;C(l,c,_=>s(11,a=_));const u=X.docBodyBgColor,f=Ve();C(l,f,_=>s(10,t=_));const p=_=>Object.entries(k).reduce((w,$)=>$[1]===r[_].type?$[0]:w,null),m=()=>r.findIndex(_=>_.elapsed<_.duration),y=()=>{const _=r.findIndex(V=>V.type===k.WORK&&V.elapsed===0);if(_===-1)return"";const w=r[_];let $=`Next Exercise is ${w.display_name}
`;return w.band_pos>0&&($+=`Band's Position: ${w.band_pos_text}`),$},d=Te(I,_=>{if(!_.length||!I.hasStarted())return 0;const w=m();if(w===-1)return 0;const $=_[w];return $.duration-$.elapsed});C(l,d,_=>s(1,o=_));const Q=_=>{if(!a.use_voice||!f.isTicking())return;const w=m();if(w===-1)return;let $="";const V=r[w];switch(V.elapsed){case 0:switch(V.type){case k.WORK:$+=`Go
`;break;case k.REST:case k.BREAK:$+=`Stop
`;break}break;case 1:switch(V.type){case k.REST:$+=`Rest
`;break;case k.BREAK:$+=`Break
`;break;case k.PREP:$+=`Prep
`;break}break;case 2:switch(V.type){case k.REST:case k.PREP:$+=y();break}break}if(_<4)$+=`${_}
`;else if(V.type===k.BREAK)switch(_){case 14:$+=y();break;case 15:$+=`Get Ready
`;break}else I.isComplete()&&($+=`Well done
`);$.length&&te.speak($)},de=_=>{const w=m();w==-1||t===0?u.set(null):(f.isTicking()&&!document.body.classList.length||_===r[w].duration)&&u.set(p(w))},he=_=>{switch(f.isTicking()&&f.stop(),_.currentTarget.dataset.action){case"reset":s(0,n=!1),f.reset(),I.reset();break;case"settings_open":s(7,i=!0);break}},be=()=>[{icon:"bi bi-bootstrap-reboot",title:"Reset",data:{"data-action":"reset"}},{component:je,props:{}},{icon:"bi bi-gear-wide-connected",title:"Timer Settings",data:{"data-action":"settings_open"}}],ge=f.subscribe(()=>{const _=m();_!==-1&&f.isTicking()&&M(I,r[_].elapsed+=1,r)}),ke=d.subscribe(_=>{Q(_),de(_)});F(()=>{ge(),ke(),u.set(null)});function $e(_){n=_,s(0,n)}return l.$$set=_=>{"settingsOpen"in _&&s(7,i=_.settingsOpen)},[n,o,c,f,d,he,be,i,$e]}class rt extends L{constructor(e){super();D(this,e,tt,et,H,{settingsOpen:7})}}function me(l){let e,s,r,t;const a=[at,st,nt],o=[];function i(n,c){return n[1]||!n[3].length?0:n[2]?1:n[3].length?2:-1}return~(e=i(l))&&(s=o[e]=a[e](l)),{c(){s&&s.c(),r=G()},l(n){s&&s.l(n),r=G()},m(n,c){~e&&o[e].m(n,c),v(n,r,c),t=!0},p(n,c){let u=e;e=i(n),e===u?~e&&o[e].p(n,c):(s&&(Y(),g(o[u],1,1,()=>{o[u]=null}),z()),~e?(s=o[e],s?s.p(n,c):(s=o[e]=a[e](n),s.c()),b(s,1),s.m(r.parentNode,r)):s=null)},i(n){t||(b(s),t=!0)},o(n){g(s),t=!1},d(n){~e&&o[e].d(n),n&&h(r)}}}function nt(l){let e,s,r;function t(o){l[8](o)}let a={};return l[2]!==void 0&&(a.settingsOpen=l[2]),e=new rt({props:a}),x.push(()=>se(e,"settingsOpen",t)),{c(){S(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,i){R(e,o,i),r=!0},p(o,i){const n={};!s&&i&4&&(s=!0,n.settingsOpen=o[2],oe(()=>s=!1)),e.$set(n)},i(o){r||(b(e.$$.fragment,o),r=!0)},o(o){g(e.$$.fragment,o),r=!1},d(o){T(e,o)}}}function st(l){let e,s;return e=new Le({}),e.$on("click",l[6]),e.$on("submit",l[7]),{c(){S(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,t){R(e,r,t),s=!0},p:U,i(r){s||(b(e.$$.fragment,r),s=!0)},o(r){g(e.$$.fragment,r),s=!1},d(r){T(e,r)}}}function at(l){let e,s,r;function t(i,n){return i[1]?lt:ot}let a=t(l),o=a(l);return s=new Ce({props:{label:"Create New Workout",type:"button",name:"create",id:"create"}}),s.$on("click",l[5]),{c(){o.c(),e=O(),S(s.$$.fragment)},l(i){o.l(i),e=j(i),E(s.$$.fragment,i)},m(i,n){o.m(i,n),v(i,e,n),R(s,i,n),r=!0},p(i,n){a!==(a=t(i))&&(o.d(1),o=a(i),o&&(o.c(),o.m(e.parentNode,e)))},i(i){r||(b(s.$$.fragment,i),r=!0)},o(i){g(s.$$.fragment,i),r=!1},d(i){o.d(i),i&&h(e),T(s,i)}}}function ot(l){let e,s,r,t,a,o,i;return{c(){e=B("h2"),s=N("No Workout!"),r=O(),t=B("p"),a=N("You are in need of a workout."),o=B("br"),i=N("Please create one."),this.h()},l(n){e=W(n,"H2",{class:!0});var c=K(e);s=q(c,"No Workout!"),c.forEach(h),r=j(n),t=W(n,"P",{});var u=K(t);a=q(u,"You are in need of a workout."),o=W(u,"BR",{}),i=q(u,"Please create one."),u.forEach(h),this.h()},h(){A(e,"class","center")},m(n,c){v(n,e,c),P(e,s),v(n,r,c),v(n,t,c),P(t,a),P(t,o),P(t,i)},d(n){n&&h(e),n&&h(r),n&&h(t)}}}function lt(l){let e,s,r,t,a,o,i;return{c(){e=B("h2"),s=N("Workout not found!"),r=O(),t=B("p"),a=N("The workout you are looking for was not found."),o=B("br"),i=N("Perhaps it has expired. Please create a new workout"),this.h()},l(n){e=W(n,"H2",{class:!0});var c=K(e);s=q(c,"Workout not found!"),c.forEach(h),r=j(n),t=W(n,"P",{});var u=K(t);a=q(u,"The workout you are looking for was not found."),o=W(u,"BR",{}),i=q(u,"Perhaps it has expired. Please create a new workout"),u.forEach(h),this.h()},h(){A(e,"class","center error")},m(n,c){v(n,e,c),P(e,s),v(n,r,c),v(n,t,c),P(t,a),P(t,o),P(t,i)},d(n){n&&h(e),n&&h(r),n&&h(t)}}}function it(l){let e,s,r,t=!l[0]&&me(l);return{c(){e=O(),t&&t.c(),s=G(),this.h()},l(a){Ie('[data-svelte="svelte-1jsep15"]',document.head).forEach(h),e=j(a),t&&t.l(a),s=G(),this.h()},h(){document.title="SWEAT Tabata"},m(a,o){v(a,e,o),t&&t.m(a,o),v(a,s,o),r=!0},p(a,[o]){a[0]?t&&(Y(),g(t,1,1,()=>{t=null}),z()):t?(t.p(a,o),o&1&&b(t,1)):(t=me(a),t.c(),b(t,1),t.m(s.parentNode,s))},i(a){r||(b(t),r=!0)},o(a){g(t),r=!1},d(a){a&&h(e),t&&t.d(a),a&&h(s)}}}const ct=(l,e=null)=>new Promise(async s=>{e||(e=fetch);let r=null,t="https://kalabaaz.pythonanywhere.com";t+=`/api/tabata/${l}.json`;const a=await e(t,{credentials:"include"});a.ok&&(r=await a.json()),s(r)}),$t=async({fetch:l})=>{const e={queryWorkout:void 0,loadError:void 0};let s;if(Pe.subscribe(t=>s=t.url)(),s&&s.searchParams.has("w"))try{e.queryWorkout=await ct(s.searchParams.get("w"),l)}catch(t){e.loadError=t}return{props:e}},vt=!1;function ut(l,e,s){let r,t;C(l,I,d=>s(3,r=d));const a=()=>{n&&(ee.setItem("routine",[]),ie.setItem("workout",n),le(t.tabataLink,{replaceState:!0}))},o=()=>{const d=ee.getItem("routine");if(d.length)I.set(d);else{const Q=ie.getItem("workout");Q&&I.setWorkout(Q)}F(()=>ee.setItem("routine",r))},i=X.routine;C(l,i,d=>s(9,t=d));let{queryWorkout:n=void 0}=e,{loadError:c=void 0}=e,u;n||c?a():o();const f=()=>le("/workout",{replaceState:!0}),p=()=>s(2,u=!u),m=()=>s(2,u=!u);function y(d){u=d,s(2,u)}return l.$$set=d=>{"queryWorkout"in d&&s(0,n=d.queryWorkout),"loadError"in d&&s(1,c=d.loadError)},[n,c,u,r,i,f,p,m,y]}class yt extends L{constructor(e){super();D(this,e,ut,it,H,{queryWorkout:0,loadError:1})}}export{yt as default,$t as load,vt as prerender};
