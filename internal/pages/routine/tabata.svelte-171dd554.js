import{D as $e,S as q,i as D,s as H,w as S,x as R,y as T,H as Y,q as b,o as g,B as E,M as O,O as Z,Y as te,e as B,k as K,c as W,a as j,m as C,d as h,b as A,g as y,G as P,K as F,T as ve,V as ye,W as we,X as Se,l as G,n as z,p as U,I as ne,Q as M,t as L,h as N,j as Re,R as re,f as se,U as ae,a3 as Te,a2 as Ee}from"../../chunks/vendor-5de77269.js";import{g as le}from"../../chunks/navigation-bd39ff07.js";import{p as Ie}from"../../chunks/stores-a390861c.js";import{A as Q,L as oe,S as x}from"../../chunks/appStore-a9303580.js";import{r as k,R as X,E as Pe}from"../../chunks/exerciseCard-175ef08d.js";import{V as ee,s as ie}from"../../chunks/helpers-c419cb44.js";import{F as Be,L as J,M as We,I as Oe,P as Ke,a as je}from"../../chunks/playPauseToggleIcon-69d4c21c.js";import{T as Ce}from"../../chunks/TimeKeeper-fcf2bb72.js";import"../../chunks/singletons-a6a7384f.js";const Ve=()=>{const{subscribe:c,set:e,update:s}=$e([]),t=n=>{e(r(n.meta,n.exercises))},r=(n,u)=>{let i=[];for(let f=0;f<n.tabatas;f++)if(u.forEach((p,m)=>{const d=Object.assign({cycle:m+1,round:f+1,elapsed:0,duration:n.time_on},p);if(d.type=k.WORK,i.push(X(d)),m<u.length-1){const v={name:"Rest",display_name:"Rest",type:k.REST,cycle:m+1,round:f+1,elapsed:0,duration:n.time_off};i.push(X(v))}}),f<n.tabatas-1){const p={name:"Break",display_name:"Break",type:k.BREAK,cycle:0,round:f+2,elapsed:0,duration:n.rest_time};i.push(X(p))}return i.unshift(X({name:"Prepare",display_name:"Prep",type:k.PREP,cycle:0,round:0,elapsed:0,duration:n.prep_time})),i};return{subscribe:c,set:e,update:s,setWorkout:t,reset:()=>{s(n=>n.map(u=>(u.elapsed=0,u)))},isComplete:()=>{let n=!1;return s(u=>(n=Boolean(u.length)&&u.every(i=>i.elapsed===i.duration),u)),n},hasStarted:()=>{let n=!1;return c(i=>{i.length&&(n=i[0].elapsed>0)})(),n}}};var I=Ve();function Ae(c){let e,s;return e=new Be({props:{id:"tabataSettingsForm",title:"Tabata Settings",fieldsets:c[1]()}}),e.$on("change",c[2]),e.$on("submit",c[3]),e.$on("click",c[4]),{c(){S(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p:Y,i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function Le(c,e,s){let t,r;O(c,I,i=>s(7,r=i));const a=Q.userSettings;O(c,a,i=>s(6,t=i));const l=()=>{const i=r.find(v=>v.type===k.PREP),f=r.find(v=>v.type===k.WORK),p=r.find(v=>v.type===k.REST),m=r.find(v=>v.type===k.BREAK);return[{legend:"Runtime",inputs:[{id:"prep_time",name:"PREP",value:i?i.duration:0,label:"Prep Time (seconds)",type:"number"},{id:"time_on",name:"WORK",value:f?f.duration:0,label:"Exercise Time (seconds)",type:"number"},{id:"time_off",name:"REST",value:p?p.duration:0,label:"Rest Time (seconds)",type:"number"},{id:"rest_time",name:"BREAK",value:m?m.duration:0,label:"Break Time (seconds)",type:"number"},{id:"use_voice",name:"use_voice",checked:t.use_voice,label:"Use Voice?",type:"slider"},{id:"preferred_voice",name:"preferred_voice",value:t.preferred_voice,label:"Preferred Voice",type:"select",placeholder:"Available Voices",options:ee.getVoices(null,!0)}]}]},o=i=>{switch(i.currentTarget.name){case"PREP":case"WORK":case"REST":case"BREAK":const f=parseInt(i.currentTarget.value);isNaN(f)||I.update(p=>(p.forEach((m,d)=>{m.type===k[i.currentTarget.name]&&p[d].elapsed!==p[d].duration&&(p[d].duration=f)}),p));break;case"use_voice":Z(a,t.use_voice=i.currentTarget.checked,t);break;case"preferred_voice":Z(a,t.preferred_voice=i.currentTarget.value,t),ee.defaultVoice=t.preferred_voice;break}};function n(i){te.call(this,c,i)}function u(i){te.call(this,c,i)}return[a,l,o,n,u]}class Ne extends q{constructor(e){super();D(this,e,Le,Ae,H,{})}}function qe(c){let e,s,t,r,a,l,o,n,u;return s=new J({props:{label:"Elapsed",value:c[0]}}),r=new J({props:{label:"Remaining",value:c[1]}}),l=new J({props:{label:"Cycles",value:c[2]}}),n=new J({props:{label:"Tabatas",value:c[3]}}),{c(){e=B("div"),S(s.$$.fragment),t=K(),S(r.$$.fragment),a=K(),S(l.$$.fragment),o=K(),S(n.$$.fragment),this.h()},l(i){e=W(i,"DIV",{class:!0});var f=j(e);R(s.$$.fragment,f),t=C(f),R(r.$$.fragment,f),a=C(f),R(l.$$.fragment,f),o=C(f),R(n.$$.fragment,f),f.forEach(h),this.h()},h(){A(e,"class","svelte-1ujgwto")},m(i,f){y(i,e,f),T(s,e,null),P(e,t),T(r,e,null),P(e,a),T(l,e,null),P(e,o),T(n,e,null),u=!0},p(i,[f]){const p={};f&1&&(p.value=i[0]),s.$set(p);const m={};f&2&&(m.value=i[1]),r.$set(m);const d={};f&4&&(d.value=i[2]),l.$set(d);const v={};f&8&&(v.value=i[3]),n.$set(v)},i(i){u||(b(s.$$.fragment,i),b(r.$$.fragment,i),b(l.$$.fragment,i),b(n.$$.fragment,i),u=!0)},o(i){g(s.$$.fragment,i),g(r.$$.fragment,i),g(l.$$.fragment,i),g(n.$$.fragment,i),u=!1},d(i){i&&h(e),E(s),E(r),E(l),E(n)}}}function De(c,e,s){let t="00:00",r="00:00",a="0/0",l="0/0";const o=I.subscribe(n=>{if(!n.length)return;const u=n.findIndex(p=>p.elapsed<p.duration);if(u===-1)return;const i=n.reduce((p,m)=>p+m.elapsed,0),f=n.reduce((p,m)=>p+m.duration,0);s(0,t=ie(i)),s(1,r=ie(f-i)),s(2,a=n[u].cycle+"/"+n[n.length-1].cycle),s(3,l=n[u].round+"/"+n[n.length-1].round)});return F(()=>o()),[t,r,a,l]}class He extends q{constructor(e){super();D(this,e,De,qe,H,{})}}function Ge(c){let e,s;const t=c[1].default,r=ve(t,c,c[0],null);return{c(){e=B("div"),r&&r.c(),this.h()},l(a){e=W(a,"DIV",{class:!0});var l=j(e);r&&r.l(l),l.forEach(h),this.h()},h(){A(e,"class","svelte-1t55ahf")},m(a,l){y(a,e,l),r&&r.m(e,null),s=!0},p(a,[l]){r&&r.p&&(!s||l&1)&&ye(r,t,a,a[0],s?Se(t,a[0],l,null):we(a[0]),null)},i(a){s||(b(r,a),s=!0)},o(a){g(r,a),s=!1},d(a){a&&h(e),r&&r.d(a)}}}function Ye(c,e,s){let{$$slots:t={},$$scope:r}=e;return c.$$set=a=>{"$$scope"in a&&s(0,r=a.$$scope)},[r,t]}class ze extends q{constructor(e){super();D(this,e,Ye,Ge,H,{})}}function ce(c,e,s){const t=c.slice();return t[6]=e[s],t}function ue(c,e,s){const t=c.slice();return t[9]=e[s],t}function Ue(c){let e,s;return e=new Pe({props:{name:c[9].display_name,completed:c[9].duration===c[9].elapsed,region:c[9].region,target:c[9].target,band_pos:c[9].band_pos,band_pos_text:c[9].band_pos_text}}),{c(){S(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p(t,r){const a={};r&2&&(a.name=t[9].display_name),r&2&&(a.completed=t[9].duration===t[9].elapsed),r&2&&(a.region=t[9].region),r&2&&(a.target=t[9].target),r&2&&(a.band_pos=t[9].band_pos),r&2&&(a.band_pos_text=t[9].band_pos_text),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function Fe(c){let e,s=c[9].display_name+"",t;return{c(){e=B("h2"),t=L(s),this.h()},l(r){e=W(r,"H2",{class:!0});var a=j(e);t=N(a,s),a.forEach(h),this.h()},h(){A(e,"class","rest-item svelte-n7t0x8")},m(r,a){y(r,e,a),P(e,t)},p(r,a){a&2&&s!==(s=r[9].display_name+"")&&Re(t,s)},i:Y,o:Y,d(r){r&&h(e)}}}function fe(c){let e,s,t,r;const a=[Fe,Ue],l=[];function o(n,u){return n[9].type!==k.WORK?0:1}return e=o(c),s=l[e]=a[e](c),{c(){s.c(),t=G()},l(n){s.l(n),t=G()},m(n,u){l[e].m(n,u),y(n,t,u),r=!0},p(n,u){let i=e;e=o(n),e===i?l[e].p(n,u):(z(),g(l[i],1,1,()=>{l[i]=null}),U(),s=l[e],s?s.p(n,u):(s=l[e]=a[e](n),s.c()),b(s,1),s.m(t.parentNode,t))},i(n){r||(b(s),r=!0)},o(n){g(s),r=!1},d(n){l[e].d(n),n&&h(t)}}}function pe(c){let e,s,t,r=c[6],a=[];for(let o=0;o<r.length;o+=1)a[o]=fe(ue(c,r,o));const l=o=>g(a[o],1,1,()=>{a[o]=null});return{c(){e=B("li");for(let o=0;o<a.length;o+=1)a[o].c();s=K(),this.h()},l(o){e=W(o,"LI",{class:!0});var n=j(e);for(let u=0;u<a.length;u+=1)a[u].l(n);s=C(n),n.forEach(h),this.h()},h(){A(e,"class","svelte-n7t0x8")},m(o,n){y(o,e,n);for(let u=0;u<a.length;u+=1)a[u].m(e,null);P(e,s),t=!0},p(o,n){if(n&6){r=o[6];let u;for(u=0;u<r.length;u+=1){const i=ue(o,r,u);a[u]?(a[u].p(i,n),b(a[u],1)):(a[u]=fe(i),a[u].c(),b(a[u],1),a[u].m(e,s))}for(z(),u=r.length;u<a.length;u+=1)l(u);U()}},i(o){if(!t){for(let n=0;n<r.length;n+=1)b(a[n]);t=!0}},o(o){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)g(a[n]);t=!1},d(o){o&&h(e),ne(a,o)}}}function Qe(c){let e,s,t=c[2](c[1]),r=[];for(let l=0;l<t.length;l+=1)r[l]=pe(ce(c,t,l));const a=l=>g(r[l],1,1,()=>{r[l]=null});return{c(){e=B("ol");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=W(l,"OL",{class:!0});var o=j(e);for(let n=0;n<r.length;n+=1)r[n].l(o);o.forEach(h),this.h()},h(){A(e,"class","svelte-n7t0x8")},m(l,o){y(l,e,o);for(let n=0;n<r.length;n+=1)r[n].m(e,null);c[4](e),s=!0},p(l,o){if(o&6){t=l[2](l[1]);let n;for(n=0;n<t.length;n+=1){const u=ce(l,t,n);r[n]?(r[n].p(u,o),b(r[n],1)):(r[n]=pe(u),r[n].c(),b(r[n],1),r[n].m(e,null))}for(z(),n=t.length;n<r.length;n+=1)a(n);U()}},i(l){if(!s){for(let o=0;o<t.length;o+=1)b(r[o]);s=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)g(r[o]);s=!1},d(l){l&&h(e),ne(r,l),c[4](null)}}}function Xe(c){let e,s;return e=new ze({props:{$$slots:{default:[Qe]},$$scope:{ctx:c}}}),{c(){S(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p(t,[r]){const a={};r&4099&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function Je(c,e,s){let t;O(c,I,u=>s(1,t=u));const r=u=>{const i=[];return u.forEach((f,p)=>{p%2!=0&&i.push([u[p-1],f])}),i};let a,{active:l}=e;const o=I.subscribe(u=>{if(!u.length||!l)return;const i=u.findIndex(m=>m.elapsed<m.duration&&m.type===k.WORK);if(i===-1)return;const f=Math.ceil(i/2)-1,p=a.children[f];a.scrollTo({top:p.offsetHeight*f,behavior:"smooth"})});F(()=>o());function n(u){M[u?"unshift":"push"](()=>{a=u,s(0,a)})}return c.$$set=u=>{"active"in u&&s(3,l=u.active)},[a,t,r,l,n]}class Ze extends q{constructor(e){super();D(this,e,Je,Xe,H,{active:3})}}function Me(c){let e,s;return e=new He({}),{c(){S(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function xe(c){let e,s,t,r,a,l,o,n;function u(f){c[8](f)}let i={timeKeeper:c[3],value:c[1],$$slots:{default:[Me]},$$scope:{ctx:c}};return c[0]!==void 0&&(i.active=c[0]),e=new We({props:i}),M.push(()=>re(e,"active",u)),r=new Oe({props:{buttons:c[6]()}}),r.$on("click",c[5]),o=new Ze({props:{active:c[0]}}),{c(){S(e.$$.fragment),t=K(),a=B("div"),S(r.$$.fragment),l=K(),S(o.$$.fragment),this.h()},l(f){R(e.$$.fragment,f),t=C(f),a=W(f,"DIV",{style:!0});var p=j(a);R(r.$$.fragment,p),l=C(f),R(o.$$.fragment,f),this.h()},h(){se(a,"display","contents"),se(a,"--theme-icon-size","1.6rem")},m(f,p){T(e,f,p),y(f,t,p),y(f,a,p),T(r,a,null),y(f,l,p),T(o,f,p),n=!0},p(f,[p]){const m={};p&2&&(m.value=f[1]),p&1048576&&(m.$$scope={dirty:p,ctx:f}),!s&&p&1&&(s=!0,m.active=f[0],ae(()=>s=!1)),e.$set(m);const d={};p&1&&(d.active=f[0]),o.$set(d)},i(f){n||(b(e.$$.fragment,f),b(r.$$.fragment,f),b(o.$$.fragment,f),n=!0)},o(f){g(e.$$.fragment,f),g(r.$$.fragment,f),g(o.$$.fragment,f),n=!1},d(f){E(e,f),f&&h(t),f&&h(a),E(r,f),f&&h(l),E(o,f)}}}function et(c,e,s){let t,r,a,l;O(c,I,_=>s(9,t=_));let{settingsOpen:o=!1}=e,n;const u=Q.userSettings;O(c,u,_=>s(11,a=_));const i=Q.docBodyBgColor,f=Ce();O(c,f,_=>s(10,r=_));const p=_=>Object.entries(k).reduce((w,$)=>$[1]===t[_].type?$[0]:w,null),m=()=>t.findIndex(_=>_.elapsed<_.duration),d=()=>{const _=t.findIndex(V=>V.type===k.WORK&&V.elapsed===0);if(_===-1)return"";const w=t[_];let $=`Next Exercise is ${w.display_name}
`;return w.band_pos>0&&($+=`Band's Position: ${w.band_pos_text}`),$},v=Te(I,_=>{if(!_.length||!I.hasStarted())return 0;const w=m();if(w===-1)return 0;const $=_[w];return $.duration-$.elapsed});O(c,v,_=>s(1,l=_));const _e=_=>{if(!a.use_voice||!f.isTicking())return;const w=m();if(w===-1)return;let $="";const V=t[w];switch(V.elapsed){case 0:switch(V.type){case k.WORK:$+=`Go
`;break;case k.REST:case k.BREAK:$+=`Stop
`;break}break;case 1:switch(V.type){case k.REST:$+=`Rest
`;break;case k.BREAK:$+=`Break
`;break;case k.PREP:$+=`Prep
`;break}break;case 2:switch(V.type){case k.REST:case k.PREP:$+=d();break}break}if(_<4)$+=`${_}
`;else if(V.type===k.BREAK)switch(_){case 14:$+=d();break;case 15:$+=`Get Ready
`;break}else I.isComplete()&&($+=`Well done
`);$.length&&ee.speak($)},me=_=>{const w=m();w==-1||r===0?i.set(null):(f.isTicking()&&!document.body.classList.length||_===t[w].duration)&&i.set(p(w))},de=_=>{switch(f.isTicking()&&f.stop(),_.currentTarget.dataset.action){case"reset":s(0,n=!1),f.reset(),I.reset();break;case"settings_open":s(7,o=!0);break}},he=()=>[{icon:"bi bi-bootstrap-reboot",title:"Reset",data:{"data-action":"reset"}},{component:Ke,props:{}},{icon:"bi bi-gear-wide-connected",title:"Timer Settings",data:{"data-action":"settings_open"}}],be=f.subscribe(()=>{const _=m();_!==-1&&f.isTicking()&&Z(I,t[_].elapsed+=1,t)}),ge=v.subscribe(_=>{_e(_),me(_)});F(()=>{be(),ge(),i.set(null)});function ke(_){n=_,s(0,n)}return c.$$set=_=>{"settingsOpen"in _&&s(7,o=_.settingsOpen)},[n,l,u,f,v,de,he,o,ke]}class tt extends q{constructor(e){super();D(this,e,et,xe,H,{settingsOpen:7})}}function nt(c){let e,s,t,r;const a=[at,st],l=[];function o(n,u){return n[0]?0:n[1].length?1:-1}return~(e=o(c))&&(s=l[e]=a[e](c)),{c(){s&&s.c(),t=G()},l(n){s&&s.l(n),t=G()},m(n,u){~e&&l[e].m(n,u),y(n,t,u),r=!0},p(n,u){let i=e;e=o(n),e===i?~e&&l[e].p(n,u):(s&&(z(),g(l[i],1,1,()=>{l[i]=null}),U()),~e?(s=l[e],s?s.p(n,u):(s=l[e]=a[e](n),s.c()),b(s,1),s.m(t.parentNode,t)):s=null)},i(n){r||(b(s),r=!0)},o(n){g(s),r=!1},d(n){~e&&l[e].d(n),n&&h(t)}}}function rt(c){let e,s,t;function r(o,n){return o[3]?ot:lt}let l=r(c)(c);return s=new je({props:{label:"Create New Workout",type:"button",name:"create",id:"create"}}),s.$on("click",c[6]),{c(){l.c(),e=K(),S(s.$$.fragment)},l(o){l.l(o),e=C(o),R(s.$$.fragment,o)},m(o,n){l.m(o,n),y(o,e,n),T(s,o,n),t=!0},p:Y,i(o){t||(b(s.$$.fragment,o),t=!0)},o(o){g(s.$$.fragment,o),t=!1},d(o){l.d(o),o&&h(e),E(s,o)}}}function st(c){let e,s,t;function r(l){c[9](l)}let a={};return c[0]!==void 0&&(a.settingsOpen=c[0]),e=new tt({props:a}),M.push(()=>re(e,"settingsOpen",r)),{c(){S(e.$$.fragment)},l(l){R(e.$$.fragment,l)},m(l,o){T(e,l,o),t=!0},p(l,o){const n={};!s&&o&1&&(s=!0,n.settingsOpen=l[0],ae(()=>s=!1)),e.$set(n)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){E(e,l)}}}function at(c){let e,s;return e=new Ne({}),e.$on("click",c[7]),e.$on("submit",c[8]),{c(){S(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p:Y,i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function lt(c){let e,s,t,r,a,l,o;return{c(){e=B("h2"),s=L("No Workout!"),t=K(),r=B("p"),a=L("You are in need of a workout."),l=B("br"),o=L("Please create one."),this.h()},l(n){e=W(n,"H2",{class:!0});var u=j(e);s=N(u,"No Workout!"),u.forEach(h),t=C(n),r=W(n,"P",{});var i=j(r);a=N(i,"You are in need of a workout."),l=W(i,"BR",{}),o=N(i,"Please create one."),i.forEach(h),this.h()},h(){A(e,"class","center")},m(n,u){y(n,e,u),P(e,s),y(n,t,u),y(n,r,u),P(r,a),P(r,l),P(r,o)},d(n){n&&h(e),n&&h(t),n&&h(r)}}}function ot(c){let e,s,t,r,a,l,o;return{c(){e=B("h2"),s=L("Workout not found!"),t=K(),r=B("p"),a=L("The workout you are looking for was not found."),l=B("br"),o=L("Perhaps it has expired. Please create a new workout"),this.h()},l(n){e=W(n,"H2",{class:!0});var u=j(e);s=N(u,"Workout not found!"),u.forEach(h),t=C(n),r=W(n,"P",{});var i=j(r);a=N(i,"The workout you are looking for was not found."),l=W(i,"BR",{}),o=N(i,"Perhaps it has expired. Please create a new workout"),i.forEach(h),this.h()},h(){A(e,"class","center")},m(n,u){y(n,e,u),P(e,s),y(n,t,u),y(n,r,u),P(r,a),P(r,l),P(r,o)},d(n){n&&h(e),n&&h(t),n&&h(r)}}}function it(c){let e,s,t,r,a,l;const o=[rt,nt],n=[];function u(i,f){return f&4&&(s=null),i[3]||!i[1].length?0:(s==null&&(s=!i[2].url.searchParams.has("w")),s?1:-1)}return~(t=u(c,-1))&&(r=n[t]=o[t](c)),{c(){e=K(),r&&r.c(),a=G(),this.h()},l(i){Ee('[data-svelte="svelte-1jsep15"]',document.head).forEach(h),e=C(i),r&&r.l(i),a=G(),this.h()},h(){document.title="SWEAT Tabata"},m(i,f){y(i,e,f),~t&&n[t].m(i,f),y(i,a,f),l=!0},p(i,[f]){let p=t;t=u(i,f),t===p?~t&&n[t].p(i,f):(r&&(z(),g(n[p],1,1,()=>{n[p]=null}),U()),~t?(r=n[t],r?r.p(i,f):(r=n[t]=o[t](i),r.c()),b(r,1),r.m(a.parentNode,a)):r=null)},i(i){l||(b(r),l=!0)},o(i){g(r),l=!1},d(i){i&&h(e),~t&&n[t].d(i),i&&h(a)}}}async function $t({url:c,fetch:e}){const s={queryWorkout:void 0};if(c.searchParams.has("w")){const t=await ct(c.searchParams.get("w"),e);s.queryWorkout=t||null}return{props:s}}const ct=(c,e=null)=>new Promise(async s=>{e||(e=fetch);let t=null,r="https://kalabaaz.pythonanywhere.com";r+=`/api/tabata/${c}.json`;const a=await e(r,{credentials:"include"});a.ok&&(t=await a.json()),s(t)});function ut(c,e,s){let t,r,a;O(c,I,d=>s(1,t=d)),O(c,Ie,d=>s(2,a=d));let{queryWorkout:l=void 0}=e,o,n=a.url.searchParams.has("w")&&l===null;const u=Q.routine;if(O(c,u,d=>s(10,r=d)),l)oe.setItem("workout",l),x.setItem("routine",[]),le(r.tabataLink,{replaceState:!0});else if(!n){const d=x.getItem("routine");if(d.length)I.set(d);else{const v=oe.getItem("workout");v&&I.setWorkout(v)}F(()=>x.setItem("routine",t))}const i=()=>le("/workout",{replaceState:!0}),f=()=>s(0,o=!o),p=()=>s(0,o=!o);function m(d){o=d,s(0,o)}return c.$$set=d=>{"queryWorkout"in d&&s(5,l=d.queryWorkout)},[o,t,a,n,u,l,i,f,p,m]}class vt extends q{constructor(e){super();D(this,e,ut,it,H,{queryWorkout:5})}}export{vt as default,$t as load};
