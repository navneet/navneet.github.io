import{w as ie,r as on,d as be,g as he,S as Y,i as z,s as H,e as h,t as V,a as S,b as g,c as v,f as b,h as X,n as N,j as k,k as Ne,l as ee,m as K,u as Oe,o as Be,p as Ve,q as w,v as E,x as Re,y as je,z as we,A as Ie,B as ye,C as Ke,D as Se,E as Ee,F as R,G as I,H as C,I as Ce,J as oe,K as te,L as ne,M as W,N as me,O as an,P as mt,Q as pt,R as Ze,T as pe,U as _t,V as xe,W as cn,X as Ue,Y as ce,Z as qe,_ as Ye,$ as dt,a0 as De,a1 as un,a2 as fn}from"./vendor.66983ffd.js";const mn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};mn();const gt=(l={},e=window.sessionStorage)=>{const{subscribe:n,set:t,update:s}=ie(""),r=()=>l,i=_=>{l=_},c=()=>e,a=_=>{if(![window.sessionStorage,window.localStorage].includes(_))throw new Error("Illegal Engine "+_);e=_},o=(_,d)=>{m(_),d=JSON.stringify(d),e.setItem(_,d),t(_)},u=_=>{m(_);const d=e.getItem(_);return d!==null&&t(_),JSON.parse(d)},f=_=>{m(_),e.removeItem(_),s(d=>(_==d&&(d=""),d))},p=()=>{e.clear(),t("")},m=_=>{if(!Object.keys(l).includes(_))throw new Error("Illegal Key: "+_);return!0};return{subscribe:n,getEngine:c,setEngine:a,setItem:o,getItem:u,removeItem:f,clear:p,getAllowed:r,setAllowed:i,length:{get length(){return e.length}}}},Te=gt();Te.setAllowed({tabata_time:0,timer_time:0});Te.setEngine(window.sessionStorage);const le=gt();le.setAllowed({timer_settings:{prep_time:5,announce_every:30,use_voice:!0,show_plank:!0,preferred_voice:null},workout:{meta:{},exercises:[],planks:[]},prev_workouts:[{}]});le.setEngine(window.localStorage);le.isStemWorkout=l=>{if(!l)return!1;const e=le.getItem("workout");return!e||!e.meta?!1:e.meta.path_stem===l};le.getBackupStem=l=>{const e=le.getItem("prev_workouts");return!e||!e.length?null:e.reduce((n,t)=>t.meta.path_stem===l?t:n,null)};const _e=ie(!1),et=ie(!1),tt={BASE_URL:window.location.origin,NAVBAR_IMG_BASE_URL:"/css/navbar",STEM_BASE_URL:"/tmp/workouts",TMP_DIR:"/tmp",DB_FILE:"/data/workout_list.xml"},pn=()=>({saveWorkout:async n=>new Promise(()=>{let t=le.getItem("prev_workouts");(!t||t.length===0)&&(t=[]),t.unshift(n),t.length>3&&t.pop(),le.setItem("prev_workouts",t),Promise.resolve(!0)}),getWorkout:async n=>{let t=tt.STEM_BASE_URL+"/"+n+".json";return fetch(new Request(t)).then(async s=>{if(s.ok){const r=await s.json();r?Promise.resolve(r):Promise.reject(r)}else Promise.reject(s)})}}),bt=pn(),_n=(l,e)=>new Promise(async(n,t)=>{e||(e={});const s=document.createElement("script");s.onload=i=>n(i),s.onerror=i=>t(i);for(let i in e)s.setAttribute(i,e);s.src=l;const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(s,r)}),dn=l=>{const e=new URLSearchParams;if(l&&l.lastIndexOf("?")!==-1){let n=l.split("?");n.length>1&&(n=n[1],n.split("&").forEach(s=>{const r=s.split("=");r.length==2&&e.append(r[0],r[1])}))}return e},ht=l=>{l=Math.abs(l);const e=Math.floor(l/60),n=l%60;return{m:e,s:n}},We=l=>{let{m:e,s:n}=ht(l);return e.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")},vt=l=>l.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()),gn=()=>(navigator.language||navigator.userLanguage).split("-")[0],bn=(l=[],e=1)=>{const n=[];for(let t=0;t<e;){const s=Math.floor(Math.random()*l.length);n.indexOf(l[s])===-1&&(n.push(l[s]),t++)}return n},hn=(l=6)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let t=0;t<l;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return n},Ae={EXERCISE:1,PLANK:2},nt=(l=null)=>{const e=Object.preventExtensions({name:"",display_name:"",type:1,region:"",target:"",has_lr:!1,band_pos:0,band_pos_text:""});return l?Object.assign(e,l):e},lt=l=>{let e=null;switch(l){case Ae.PLANK:e="planks";break;case Ae.EXERCISE:e="exercises";break}return e},Me=on(new Document,l=>{fetch(new Request(tt.DB_FILE)).then(async e=>{if(e.ok){const n=await e.text();if(n){const s=new DOMParser().parseFromString(n,"text/xml"),r=s.querySelector("parsererror");return r?Promise.reject(r):Promise.resolve(l(s))}else return Promise.reject(n)}else return Promise.reject(e)}).catch(e=>{console.error(e)})}),kt=be(Me,l=>{const e=[],n=l.querySelector("exercises");return n&&Array.from(n.children).forEach(t=>{e.push(Object.seal({id:t.tagName,title:vt(t.tagName.replace("_"," "))}))}),e},[]),vn=be(Me,l=>{const e=[],n=l.querySelector("selection_rules");return n&&Array.from(n.children).forEach(t=>{const s=Array.from(t.children).map(i=>[i.tagName,parseInt(i.getAttribute("select"))]),r={id:t.tagName,title:vt(t.tagName.replace("_"," ")),tabatas:parseInt(t.getAttribute("tabatas")),rest_time:parseInt(t.getAttribute("rest_time")),time_on:parseInt(t.getAttribute("time_on")),time_off:parseInt(t.getAttribute("time_off")),prep_time:parseInt(t.getAttribute("prep_time"))||10,with_equipment:null,has_plank:!0,path_stem:hn(),rules:Object.fromEntries(s)};e.push(Object.seal(r))}),e},[]),kn=be(Me,l=>{const e={},n=l.querySelector("band_legends");return n&&Array.from(n.children).forEach(t=>{e[t.getAttribute("id")]=t.getAttribute("title")}),e},{}),$t=()=>{const{subscribe:l,set:e,update:n}=ie({id:null,title:null,tabatas:3,prep_time:10,time_on:40,time_off:15,rest_time:60,with_equipment:!0,has_plank:!0,path_stem:null,rules:{}});return{subscribe:l,set:c=>(c.hasOwnProperty("rules")&&kt.subscribe(o=>{if(o.length){const u=Object.fromEntries(o.map(f=>[f.id,0]));c.rules=Object.assign(u,c.rules)}})(),e(c)),update:n,updateRule:(c,a)=>{let o=!1;return n(u=>(a&&!isNaN(a)&&(u.rules[c]=a),o=!0,u)),o},clone:()=>{let c=null;n(o=>(c=Object.fromEntries(Object.entries(o)),c.rules=Object.fromEntries(Object.entries(o.rules)),o));const a=$t();return a.set(c),a},getTotalTime:(c=0)=>{let a=0;return n(o=>((!c||isNaN(c))&&(c=Object.entries(o.rules).reduce((u,f)=>u+(isNaN(f[1])?0:f[1]),0)),a+=o.prep_time,a+=o.time_on*c*o.tabatas,a+=o.time_off*(c-1)*o.tabatas,a+=o.rest_time*(o.tabatas-1),o)),isNaN(a)?0:a}}},$n=()=>{const{subscribe:l,set:e,update:n}=ie({meta:null,exercises:[],planks:[]}),t=()=>{const u={},f=he(ve),p=he(Me),m=he(He),_=he(ze);u.meta={tabatas:f.tabatas,prep_time:f.prep_time,time_on:f.time_on,time_off:f.time_off,rest_time:f.rest_time,with_equipment:_,has_plank:m,path_stem:f.path_stem,rules:f.rules},u.exercises=[];for(let d in f.rules){if(!parseInt(f.rules[d]))continue;const T=p.querySelector("exercises > "+d).children;u.exercises=u.exercises.concat(a(T,f.rules[d],!1))}if(_){const d=Math.random()>.5?1:-1;u.exercises=u.exercises.sort((T,A)=>(T.band_pos-A.band_pos)*d)}if(u.planks=[],m){const d=p.querySelector("planks");d&&(u.planks=a(d.children,parseInt(d.getAttribute("select")),!0))}n(()=>u)},s=()=>(n(u=>(bt.saveWorkout(u),le.setItem("workout",u),u)),!0),r=(u=-1,f=Ae.EXERCISE,p="replace")=>{let m=!1;const _=he(ve);n(d=>{const T=lt(f),A=d[T][u];switch(p){case"delete":o(u,d[T]),d[T]=d[T],f!==Ae.PLANK&&(_.rules[A.region]-=1,m=!0);break;case"replace":const $=c(u,d[T],f);$.length&&o(u,d[T],$);break}return d}),m&&ve.set(_)},i=(u=-1,f=-1,p=Ae.EXERCISE)=>{u<0||n(m=>{const _=lt(p),d=m[_].length;f==-1?f=d-1:f==d&&(f=0);const T=m[_].splice(f,1,m[_][u]);return m[_].splice(u,1,...T),m})},c=(u,f,p)=>{const m=f[u];if(!m)return[];const _=f.filter($=>$.region===m.region).map($=>$.name),d=he(Me);let T=lt(p);T=="exercises"&&(T+=" > "+m.region);let A=d.querySelector(T);if(A){const $=Array.from(A.children).filter(P=>!_.includes(P.getAttribute("name")));return a($,1,p==Ae.PLANK)}return[]},a=(u,f,p)=>{const m=he(kn),_=he(ze);let d=u instanceof Array?u:Array.from(u);_===!1&&(d=d.filter(A=>parseInt(A.getAttribute("band_pos"))==0)),d.length>f&&(d=bn(d,f));let T=[];for(let A in d){const $=Boolean(parseInt(d[A].getAttribute("has_lr"))),P=d[A].getAttribute("name");let y=nt();y.type=p?2:1,y.name=P,y.display_name=P+($?" (Left)":""),y.region=d[A].parentElement.tagName,y.target=d[A].getAttribute("target"),y.has_lr=$,y.band_pos=parseInt(d[A].getAttribute("band_pos")),y.band_pos_text=m[d[A].getAttribute("band_pos")],$&&(T.push(y),y=Object.assign(nt(),y),y.display_name=P+" (Right)"),T.push(y)}return T},o=(u=-1,f=[],p=[])=>{const m=f[u],_=m.has_lr===!0?f.findIndex(d=>d.name==m.name&&d!==m):-1;_>-1&&(f.splice(_,1),u=f.indexOf(m)),p.length?f.splice(u,1,...p):f.splice(u,1)};return{subscribe:l,set:e,update:n,generate:t,alterExercise:r,swapExercise:i,save:s}},ve=$t(),ze=ie(!0),He=ie(!0),ue=$n(),wt=()=>{const{subscribe:l,set:e,update:n}=ie(0);let t=null;const s=()=>{o()||(t=setInterval(()=>{n(f=>f+1)},1e3))},r=()=>{o()&&(clearInterval(t),t=null)},i=()=>{n(f=>f*0)},c=f=>ht(f),a=f=>We(f),o=()=>t!==null;return{subscribe:l,start:s,stop:r,reset:i,set:(f=0)=>{e(isNaN(f)?0:f)},minSecs:c,asClock:a,isTicking:o}},wn=()=>{const{subscribe:l,set:e}=ie({}),n="timer_settings",t={prep_time:5,announce_every:30,use_voice:!0,show_plank:!0,preferred_voice:null},s=i=>{le.setItem(n,i),e(i)},r=le.getItem(n);return e(Object.preventExtensions(r||t)),{subscribe:l,set:s}};var ae=wn();const yn=()=>{let l={},e=null;const n=Object.preventExtensions({autoplay:0,cc_lang_pref:gn(),cc_load_policy:0,color:"red",controls:1,disablekb:0,enablejsapi:1,fs:1,hl:navigator.language||navigator.userLanguage,iv_load_policy:3,loop:0,modestbranding:1,origin:window.location.origin,widget_referrer:window.location.href,playsinline:!0}),t=Object.preventExtensions({READY:"onReady",STATE_CHANGE:"onStateChange",PLAYBACK_QUALITY_CHANGE:"onPlaybackQualityChange",PLAYBACK_RATE_CHANGE:"onPlaybackRateChange",APICHANGE:"onApiChange",ERROR:"onError"}),s=new Promise(async u=>{typeof l.addEventListener=="function"?u(l):(window.onYouTubeIframeAPIReady=()=>{l=new window.YT.Player(document.createElement("div"),{playerVars:n}),u(l)},_n("https://www.youtube.com/iframe_api"))});return{loader:s,mount:u=>{s.then(f=>{typeof u=="string"&&(u=document.getElementById(u.toString())),u.parentElement.replaceChild(f.getIframe(),u)})},destroy:()=>{typeof l.addEventListener=="function"&&(l.destroy(),l={})},addEventListener:(u,f)=>{if(!Object.values(t).includes(u))throw new TypeError(u+" is not a valid player event");s.then(p=>{p.addEventListener(u,f)})},removeEventListener:(u,f)=>{if(typeof l.removeEventListener=="function"){if(!Object.values(t).includes(u))throw new TypeError(u+" is not a valid player event");l.removeEventListener(u,f)}},fadeVolumeTo:async(u=0)=>new Promise(f=>{if(typeof l.addEventListener=="function")if(isNaN(u)&&(u=0),l.getPlayerState()==window.YT.PlayerState.PLAYING){let p=5;const m=l.getVolume();m==u&&f(m),u<m&&(p*=-1),isNaN(e)||clearInterval(e),e=setInterval(()=>{const _=l.getVolume();p>0&&_>=u||p<0&&_<=u?(clearInterval(e),e=null,l.setVolume(u),f(_)):l.setVolume(_+p)},60)}else l.setVolume(u),f(u);else f(0)}),setSize:(u="100%",f="100%")=>l.setSize(u,f),playVideo:()=>l.playVideo(),pauseVideo:()=>l.pauseVideo(),stopVideo:()=>l.stopVideo(),seekTo:(u=0,f=!0)=>l.seekTo(u,f),getPlayerState:()=>l.getPlayerState(),getDuration:()=>l.getDuration(),getVideoUrl:()=>l.getVideoUrl(),getPlaylist:()=>l.getPlaylist(),getPlaylistIndex:()=>l.getPlaylistIndex(),getCurrentTime:()=>l.getCurrentTime(),getVideoStartBytes:()=>l.getVideoStartBytes(),getVideoBytesLoaded:()=>l.getVideoBytesLoaded(),getVideoBytesTotal:()=>l.getVideoBytesTotal(),nextVideo:()=>l.nextVideo(),previousVideo:()=>l.previousVideo(),playVideoAt:u=>l.playVideoAt(u),mute:()=>l.mute(),unmute:()=>l.unmute(),isMuted:()=>l.isMuted(),getVolume:()=>l.getVolume(),setVolume:(u=100)=>l.setVolume(u),getSphericalProperties:()=>l.getSphericalProperties(),setSphericalProperties:u=>l.setSphericalProperties(u),getPlaybackRate:()=>l.getPlaybackRate(),setPlaybackRate:(u=1)=>l.setPlaybackRate(u),getAvailablePlaybackRates:()=>l.getAvailablePlaybackRates(),setLoop:(u=!1)=>l.setLoop(u),setShuffle:(u=!1)=>l.setShuffle(u),getVideoLoadedFraction:()=>l.getVideoLoadedFraction(),getIframe:()=>l.getIframe(),get playerVars(){return n},set playerVars(u){if(typeof l.addEventListener=="function")throw new Error("PlayerVars cannot be set after the player has loaded");Object.entries(u).forEach(([f,p])=>n[f]=p)},READY:t.READY,STATE_CHANGE:t.STATE_CHANGE,PLAYBACK_QUALITY_CHANGE:t.PLAYBACK_QUALITY_CHANGE,PLAYBACK_RATE_CHANGE:t.PLAYBACK_RATE_CHANGE,APICHANGE:t.APICHANGE,ERROR:t.ERROR}},ke=yn(),En=()=>{const l=new SpeechSynthesisUtterance;let e=!0;const n=new Promise(async i=>{const c=window.speechSynthesis.getVoices(),a=()=>{const u=navigator.language||navigator.userLanguage,f=new RegExp("^(en|"+u+").*");return window.speechSynthesis.getVoices().filter(p=>p.lang.match(f))},o=()=>{window.speechSynthesis.removeEventListener("voiceschanged",o),i(a())};c.length?i(a()):window.speechSynthesis.addEventListener("voiceschanged",o)}),t=i=>{l.text=i,window.speechSynthesis.speak(l)},s=()=>{ke.fadeVolumeTo(10)},r=()=>{ke.fadeVolumeTo(100)};return l.onstart=s,l.onresume=s,l.onend=r,l.onpause=r,n.then(i=>{const c=he(ae),a=i.find(o=>o.name===c.preferred_voice);a&&(l.voice=a)}),{speak:t,voices:n,controlYTPlayer:e}},Xe=En();function Sn(l){let e,n,t,s,r;return{c(){e=h("label"),n=h("span"),t=V(l[0]),s=S(),r=h("input"),g(r,"type","text"),r.value=l[1],r.disabled=!0,g(e,"class","timer-counter")},m(i,c){v(i,e,c),b(e,n),b(n,t),b(e,s),b(e,r)},p(i,[c]){c&1&&X(t,i[0]),c&2&&r.value!==i[1]&&(r.value=i[1])},i:N,o:N,d(i){i&&k(e)}}}function Tn(l,e,n){let{label:t=""}=e,{value:s=""}=e;return l.$$set=r=>{"label"in r&&n(0,t=r.label),"value"in r&&n(1,s=r.value)},[t,s]}class Ge extends Y{constructor(e){super();z(this,e,Tn,Sn,H,{label:0,value:1})}}function An(l){let e,n,t,s;const r=l[3].default,i=Ne(r,l,l[2],null);return{c(){e=h("button"),i&&i.c(),g(e,"class","round-button svelte-1ylr70"),ee(e,"active",l[0])},m(c,a){v(c,e,a),i&&i.m(e,null),n=!0,t||(s=K(e,"click",l[1]),t=!0)},p(c,[a]){i&&i.p&&(!n||a&4)&&Oe(i,r,c,c[2],n?Ve(r,c[2],a,null):Be(c[2]),null),a&1&&ee(e,"active",c[0])},i(c){n||(w(i,c),n=!0)},o(c){E(i,c),n=!1},d(c){c&&k(e),i&&i.d(c),t=!1,s()}}}function Pn(l,e,n){let{$$slots:t={},$$scope:s}=e;const r=Re(),i=o=>{c(),r("click",{active:a,toggle:c,currentTarget:o.currentTarget})},c=()=>{n(0,a=!a)};let{active:a=!1}=e;return l.$$set=o=>{"active"in o&&n(0,a=o.active),"$$scope"in o&&n(2,s=o.$$scope)},[a,i,s,t]}class yt extends Y{constructor(e){super();z(this,e,Pn,An,H,{active:0})}}function Rn(l){let e,n,t,s,r,i=[{disabled:l[2]},{type:"button"},{class:"round-button icon-button"},l[4]],c={};for(let a=0;a<i.length;a+=1)c=je(c,i[a]);return{c(){e=h("button"),n=h("img"),we(n.src,t=l[0])||g(n,"src",t),g(n,"alt",l[1]),Ie(n,"min-width",l[3]),Ie(n,"min-height",l[3]),ye(e,c)},m(a,o){v(a,e,o),b(e,n),e.autofocus&&e.focus(),s||(r=[K(e,"click",l[5]),K(e,"dblclick",l[6]),K(e,"mouseenter",l[7]),K(e,"mouseleave",l[8])],s=!0)},p(a,[o]){o&1&&!we(n.src,t=a[0])&&g(n,"src",t),o&2&&g(n,"alt",a[1]),o&8&&Ie(n,"min-width",a[3]),o&8&&Ie(n,"min-height",a[3]),ye(e,c=Ke(i,[o&4&&{disabled:a[2]},{type:"button"},{class:"round-button icon-button"},o&16&&a[4]]))},i:N,o:N,d(a){a&&k(e),s=!1,Se(r)}}}function In(l,e,n){let{src:t}=e,{alt:s=""}=e,{disabled:r=!1}=e,{min_dim:i="24px"}=e,{data:c={}}=e;function a(p){Ee.call(this,l,p)}function o(p){Ee.call(this,l,p)}function u(p){Ee.call(this,l,p)}function f(p){Ee.call(this,l,p)}return l.$$set=p=>{"src"in p&&n(0,t=p.src),"alt"in p&&n(1,s=p.alt),"disabled"in p&&n(2,r=p.disabled),"min_dim"in p&&n(3,i=p.min_dim),"data"in p&&n(4,c=p.data)},[t,s,r,i,c,a,o,u,f]}class fe extends Y{constructor(e){super();z(this,e,In,Rn,H,{src:0,alt:1,disabled:2,min_dim:3,data:4})}}function Cn(l){let e,n,t,s,r;return n=new fe({props:{src:"/css/icons/reset.svg",alt:"Reset"}}),n.$on("click",l[2]),s=new fe({props:{src:"/css/icons/gear-fill.svg",alt:"Timer Settings"}}),s.$on("click",l[1]),{c(){e=h("div"),R(n.$$.fragment),t=S(),R(s.$$.fragment),g(e,"class","svelte-k909ad")},m(i,c){v(i,e,c),I(n,e,null),b(e,t),I(s,e,null),r=!0},p:N,i(i){r||(w(n.$$.fragment,i),w(s.$$.fragment,i),r=!0)},o(i){E(n.$$.fragment,i),E(s.$$.fragment,i),r=!1},d(i){i&&k(e),C(n),C(s)}}}function Ln(l){const e=Re();return[e,()=>{_e.set(!0),e("open")},()=>e("reset")]}class st extends Y{constructor(e){super();z(this,e,Ln,Cn,H,{})}}function Nn(l){let e,n,t,s,r,i;return{c(){e=h("div"),n=h("input"),t=S(),s=h("span"),g(n,"type","checkbox"),g(n,"name",l[1]),g(n,"id",l[1]),g(s,"class","slider round"),g(e,"class","switch")},m(c,a){v(c,e,a),b(e,n),n.checked=l[0],b(e,t),b(e,s),r||(i=[K(n,"change",l[3]),K(n,"change",l[2]),K(s,"click",l[4])],r=!0)},p(c,[a]){a&2&&g(n,"name",c[1]),a&2&&g(n,"id",c[1]),a&1&&(n.checked=c[0])},i:N,o:N,d(c){c&&k(e),r=!1,Se(i)}}}function On(l,e,n){const t=Re(),s=o=>{t("change",o.currentTarget.checked)};let{name:r=void 0}=e,{checked:i=!1}=e;function c(){i=this.checked,n(0,i)}const a=()=>{n(0,i=!i)};return l.$$set=o=>{"name"in o&&n(1,r=o.name),"checked"in o&&n(0,i=o.checked)},[i,r,s,c,a]}class Et extends Y{constructor(e){super();z(this,e,On,Nn,H,{name:1,checked:0})}}function Bn(l){let e,n,t,s,r,i,c;t=new fe({props:{src:"/css/icons/cross.svg",alt:"Close Settings",min_dim:".9rem"}}),t.$on("click",l[4]);const a=l[2].default,o=Ne(a,l,l[1],null);return{c(){e=h("form"),n=h("div"),R(t.$$.fragment),s=S(),o&&o.c(),g(n,"class","close-button"),g(e,"class","settings-form")},m(u,f){v(u,e,f),b(e,n),I(t,n,null),b(e,s),o&&o.m(e,null),r=!0,i||(c=K(e,"submit",Ce(l[3])),i=!0)},p(u,[f]){o&&o.p&&(!r||f&2)&&Oe(o,a,u,u[1],r?Ve(a,u[1],f,null):Be(u[1]),null)},i(u){r||(w(t.$$.fragment,u),w(o,u),r=!0)},o(u){E(t.$$.fragment,u),E(o,u),r=!1},d(u){u&&k(e),C(t),o&&o.d(u),i=!1,c()}}}function Vn(l,e,n){let{$$slots:t={},$$scope:s}=e;const r=Re();function i(a){Ee.call(this,l,a)}const c=a=>r("close",a);return l.$$set=a=>{"$$scope"in a&&n(1,s=a.$$scope)},[r,s,t,i,c]}class rt extends Y{constructor(e){super();z(this,e,Vn,Bn,H,{})}}function jn(l){let e;return{c(){e=h("div"),e.innerHTML=`<div class="double-bounce1"></div> 
            <div class="double-bounce2"></div>`,g(e,"class","spinner")},m(n,t){v(n,e,t)},d(n){n&&k(e)}}}function Kn(l){let e,n,t,s,r;const i=l[2].default,c=Ne(i,l,l[1],null),a=c||jn();return{c(){e=h("fieldset"),n=h("legend"),t=V(l[0]),s=S(),a&&a.c()},m(o,u){v(o,e,u),b(e,n),b(n,t),b(e,s),a&&a.m(e,null),r=!0},p(o,[u]){(!r||u&1)&&X(t,o[0]),c&&c.p&&(!r||u&2)&&Oe(c,i,o,o[1],r?Ve(i,o[1],u,null):Be(o[1]),null)},i(o){r||(w(a,o),r=!0)},o(o){E(a,o),r=!1},d(o){o&&k(e),a&&a.d(o)}}}function qn(l,e,n){let{$$slots:t={},$$scope:s}=e,{title:r=null}=e;return l.$$set=i=>{"title"in i&&n(0,r=i.title),"$$scope"in i&&n(1,s=i.$$scope)},[r,s,t]}class Qe extends Y{constructor(e){super();z(this,e,qn,Kn,H,{title:0})}}function St(l,e,n){const t=l.slice();return t[11]=e[n],t}function Tt(l){let e,n;return e=new rt({props:{$$slots:{default:[Fn]},$$scope:{ctx:l}}}),e.$on("close",l[2]),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,s){const r={};s&16387&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function At(l){let e,n={ctx:l,current:null,token:null,hasCatch:!1,pending:Mn,then:Wn,catch:Dn,value:10};return xe(Xe.voices,n),{c(){e=h("li"),n.block.c()},m(t,s){v(t,e,s),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(t,s){l=t,Ze(n,l,s)},d(t){t&&k(e),n.block.d(),n.token=null,n=null}}}function Dn(l){return{c:N,m:N,p:N,d:N}}function Wn(l){let e,n,t,s,r,i=l[10],c=[];for(let a=0;a<i.length;a+=1)c[a]=Pt(St(l,i,a));return{c(){e=h("label"),e.textContent="Preferred Voice",n=S(),t=h("select");for(let a=0;a<c.length;a+=1)c[a].c();g(e,"for","preferred_voice"),g(t,"name","preferred_voice"),g(t,"id","preferred_voice"),l[1].preferred_voice===void 0&&cn(()=>l[9].call(t))},m(a,o){v(a,e,o),v(a,n,o),v(a,t,o);for(let u=0;u<c.length;u+=1)c[u].m(t,null);Ue(t,l[1].preferred_voice),s||(r=K(t,"change",l[9]),s=!0)},p(a,o){if(o&0){i=a[10];let u;for(u=0;u<i.length;u+=1){const f=St(a,i,u);c[u]?c[u].p(f,o):(c[u]=Pt(f),c[u].c(),c[u].m(t,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=i.length}o&2&&Ue(t,a[1].preferred_voice)},d(a){a&&k(e),a&&k(n),a&&k(t),ce(c,a),s=!1,r()}}}function Pt(l){let e,n=l[11].name+"",t,s;return{c(){e=h("option"),t=V(n),e.__value=s=l[11].name,e.value=e.__value},m(r,i){v(r,e,i),b(e,t)},p:N,d(r){r&&k(e)}}}function Mn(l){let e;return{c(){e=h("p"),e.textContent="Loading"},m(n,t){v(n,e,t)},p:N,d(n){n&&k(e)}}}function Gn(l){let e,n,t,s,r,i,c,a,o,u,f,p,m,_,d,T,A,$,P,y,O,j,x,G,D,se,B,Q,L,q,F,Z,$e,Pe,ct;function rn(U){l[8](U)}let ut={name:"use_voice"};l[1].use_voice!==void 0&&(ut.checked=l[1].use_voice),q=new Et({props:ut}),mt.push(()=>pt(q,"checked",rn));let re=l[1].use_voice&&At(l);return{c(){e=h("ul"),n=h("li"),t=h("label"),t.textContent="Rounds",s=S(),r=h("input"),i=S(),c=h("li"),a=h("label"),a.textContent="Prep Time (seconds)",o=S(),u=h("input"),f=S(),p=h("li"),m=h("label"),m.textContent="Per Exercise (seconds)",_=S(),d=h("input"),T=S(),A=h("li"),$=h("label"),$.textContent="Rest Time (seconds)",P=S(),y=h("input"),O=S(),j=h("li"),x=h("label"),x.textContent="Break Time (seconds)",G=S(),D=h("input"),se=S(),B=h("li"),Q=h("label"),Q.textContent="Use Voice?",L=S(),R(q.$$.fragment),Z=S(),re&&re.c(),g(t,"for","tabatas"),g(r,"type","number"),g(r,"name","tabatas"),g(r,"id","tabatas"),g(r,"min","1"),g(r,"max","5"),g(a,"for","prep_time"),g(u,"type","number"),g(u,"name","prep_time"),g(u,"id","prep_time"),g(u,"min","0"),g(u,"max","240"),g(m,"for","time_on"),g(d,"type","number"),g(d,"name","time_on"),g(d,"id","time_on"),g(d,"min","10"),g(d,"max","120"),g($,"for","time_off"),g(y,"type","number"),g(y,"name","time_off"),g(y,"id","time_off"),g(y,"min","0"),g(y,"max","120"),g(x,"for","rest_time"),g(D,"type","number"),g(D,"name","rest_time"),g(D,"id","rest_time"),g(D,"min","0"),g(D,"max","240"),g(Q,"for","use_voice")},m(U,ge){v(U,e,ge),b(e,n),b(n,t),b(n,s),b(n,r),pe(r,l[0].meta.tabatas),b(e,i),b(e,c),b(c,a),b(c,o),b(c,u),pe(u,l[0].meta.prep_time),b(e,f),b(e,p),b(p,m),b(p,_),b(p,d),pe(d,l[0].meta.time_on),b(e,T),b(e,A),b(A,$),b(A,P),b(A,y),pe(y,l[0].meta.time_off),b(e,O),b(e,j),b(j,x),b(j,G),b(j,D),pe(D,l[0].meta.rest_time),b(e,se),b(e,B),b(B,Q),b(B,L),I(q,B,null),b(e,Z),re&&re.m(e,null),$e=!0,Pe||(ct=[K(r,"input",l[3]),K(u,"input",l[4]),K(d,"input",l[5]),K(y,"input",l[6]),K(D,"input",l[7])],Pe=!0)},p(U,ge){ge&1&&me(r.value)!==U[0].meta.tabatas&&pe(r,U[0].meta.tabatas),ge&1&&me(u.value)!==U[0].meta.prep_time&&pe(u,U[0].meta.prep_time),ge&1&&me(d.value)!==U[0].meta.time_on&&pe(d,U[0].meta.time_on),ge&1&&me(y.value)!==U[0].meta.time_off&&pe(y,U[0].meta.time_off),ge&1&&me(D.value)!==U[0].meta.rest_time&&pe(D,U[0].meta.rest_time);const ft={};!F&&ge&2&&(F=!0,ft.checked=U[1].use_voice,_t(()=>F=!1)),q.$set(ft),U[1].use_voice?re?re.p(U,ge):(re=At(U),re.c(),re.m(e,null)):re&&(re.d(1),re=null)},i(U){$e||(w(q.$$.fragment,U),$e=!0)},o(U){E(q.$$.fragment,U),$e=!1},d(U){U&&k(e),C(q),re&&re.d(),Pe=!1,Se(ct)}}}function Fn(l){let e,n;return e=new Qe({props:{title:"Tabata Settings",$$slots:{default:[Gn]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,s){const r={};s&16387&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Un(l){let e=l[0].hasOwnProperty("meta"),n,t,s=e&&Tt(l);return{c(){s&&s.c(),n=oe()},m(r,i){s&&s.m(r,i),v(r,n,i),t=!0},p(r,[i]){i&1&&(e=r[0].hasOwnProperty("meta")),e?s?(s.p(r,i),i&1&&w(s,1)):(s=Tt(r),s.c(),w(s,1),s.m(n.parentNode,n)):s&&(te(),E(s,1,1,()=>{s=null}),ne())},i(r){t||(w(s),t=!0)},o(r){E(s),t=!1},d(r){s&&s.d(r),r&&k(n)}}}function Yn(l,e,n){let t,s;W(l,de,m=>n(0,t=m)),W(l,ae,m=>n(1,s=m));const r=()=>{_e.set(!1)};function i(){t.meta.tabatas=me(this.value),de.set(t)}function c(){t.meta.prep_time=me(this.value),de.set(t)}function a(){t.meta.time_on=me(this.value),de.set(t)}function o(){t.meta.time_off=me(this.value),de.set(t)}function u(){t.meta.rest_time=me(this.value),de.set(t)}function f(m){l.$$.not_equal(s.use_voice,m)&&(s.use_voice=m,ae.set(s))}function p(){s.preferred_voice=an(this),ae.set(s)}return[t,s,r,i,c,a,o,u,f,p]}class zn extends Y{constructor(e){super();z(this,e,Yn,Un,H,{})}}function Rt(l,e,n){const t=l.slice();return t[27]=e[n],t}function Hn(l){let e,n;return{c(){e=h("img"),we(e.src,n="/css/icons/power-outline.svg")||g(e,"src",n),g(e,"alt","Start!"),g(e,"class","loading svelte-1bidnc5")},m(t,s){v(t,e,s)},p:N,d(t){t&&k(e)}}}function Xn(l){let e;return{c(){e=V(l[9])},m(n,t){v(n,e,t)},p(n,t){t&512&&X(e,n[9])},d(n){n&&k(e)}}}function Qn(l){let e,n;return{c(){e=h("img"),we(e.src,n="/css/icons/check-circle.svg")||g(e,"src",n),g(e,"alt","Done!"),g(e,"class","loading svelte-1bidnc5")},m(t,s){v(t,e,s)},p:N,d(t){t&&k(e)}}}function Jn(l){let e,n;function t(i,c){return e==null&&(e=!!Le.isComplete()),e?Qn:i[5]>0?Xn:Hn}let s=t(l),r=s(l);return{c(){r.c(),n=oe()},m(i,c){r.m(i,c),v(i,n,c)},p(i,c){s===(s=t(i))&&r?r.p(i,c):(r.d(1),r=s(i),r&&(r.c(),r.m(n.parentNode,n)))},d(i){r.d(i),i&&k(n)}}}function Zn(l){let e,n,t,s;e=new st({}),e.$on("reset",l[12]),e.$on("open",l[11]);function r(a,o){return a[10]?tl:el}let i=r(l),c=i(l);return{c(){R(e.$$.fragment),n=S(),c.c(),t=oe()},m(a,o){I(e,a,o),v(a,n,o),c.m(a,o),v(a,t,o),s=!0},p(a,o){i===(i=r(a))&&c?c.p(a,o):(c.d(1),c=i(a),c&&(c.c(),c.m(t.parentNode,t)))},i(a){s||(w(e.$$.fragment,a),s=!0)},o(a){E(e.$$.fragment,a),s=!1},d(a){C(e,a),a&&k(n),c.d(a),a&&k(t)}}}function xn(l){let e,n;return e=new zn({}),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p:N,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function el(l){let e,n,t,s,r,i;return{c(){e=h("div"),n=h("button"),n.textContent="Create New()",t=S(),s=h("button"),s.textContent="Get Random()",g(n,"class","default-button"),g(s,"class","default-button"),g(e,"class","button-row svelte-1bidnc5")},m(c,a){v(c,e,a),b(e,n),b(e,t),b(e,s),r||(i=[K(n,"click",l[16]),K(s,"click",l[17])],r=!0)},p:N,d(c){c&&k(e),r=!1,Se(i)}}}function tl(l){let e;function n(r,i){return r[0].length?ll:nl}let t=n(l),s=t(l);return{c(){s.c(),e=oe()},m(r,i){s.m(r,i),v(r,e,i)},p(r,i){t===(t=n(r))&&s?s.p(r,i):(s.d(1),s=t(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){s.d(r),r&&k(e)}}}function nl(l){let e;return{c(){e=h("div"),e.innerHTML=`<div class="spinner"><div class="double-bounce1"></div> 
                <div class="double-bounce2"></div></div>`,g(e,"class","loading-container svelte-1bidnc5")},m(n,t){v(n,e,t)},p:N,d(n){n&&k(e)}}}function ll(l){let e,n,t=l[0],s=[];for(let r=0;r<t.length;r+=1)s[r]=It(Rt(l,t,r));return{c(){e=h("div"),n=h("ol");for(let r=0;r<s.length;r+=1)s[r].c();g(n,"id","routine_scroll"),g(e,"class","scroll-row")},m(r,i){v(r,e,i),b(e,n);for(let c=0;c<s.length;c+=1)s[c].m(n,null)},p(r,i){if(i&1){t=r[0];let c;for(c=0;c<t.length;c+=1){const a=Rt(r,t,c);s[c]?s[c].p(a,i):(s[c]=It(a),s[c].c(),s[c].m(n,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=t.length}},d(r){r&&k(e),ce(s,r)}}}function sl(l){let e,n,t;return{c(){e=h("img"),we(e.src,n="/css/icons/meditation.png")||g(e,"src",n),g(e,"alt",t=l[27].name)},m(s,r){v(s,e,r)},p(s,r){r&1&&t!==(t=s[27].name)&&g(e,"alt",t)},d(s){s&&k(e)}}}function rl(l){let e,n,t;return{c(){e=h("img"),we(e.src,n="/css/icons/panda.png")||g(e,"src",n),g(e,"alt",t=l[27].name)},m(s,r){v(s,e,r)},p(s,r){r&1&&t!==(t=s[27].name)&&g(e,"alt",t)},d(s){s&&k(e)}}}function il(l){let e,n,t;return{c(){e=h("img"),we(e.src,n="/css/icons/prepare.png")||g(e,"src",n),g(e,"alt",t=l[27].name)},m(s,r){v(s,e,r)},p(s,r){r&1&&t!==(t=s[27].name)&&g(e,"alt",t)},d(s){s&&k(e)}}}function ol(l){let e,n=l[27].target+"",t,s,r,i,c=l[27].band_pos_text+"",a;return{c(){e=h("span"),t=V(n),s=S(),r=h("span"),i=V("Band: "),a=V(c)},m(o,u){v(o,e,u),b(e,t),v(o,s,u),v(o,r,u),b(r,i),b(r,a)},p(o,u){u&1&&n!==(n=o[27].target+"")&&X(t,n),u&1&&c!==(c=o[27].band_pos_text+"")&&X(a,c)},d(o){o&&k(e),o&&k(s),o&&k(r)}}}function It(l){let e,n,t,s=(l[27].display_name||l[27].name)+"",r,i,c;function a(f,p){if(f[27].type===J.WORK)return ol;if(f[27].type===J.PREPARE)return il;if(f[27].type===J.REST)return rl;if(f[27].type===J.BREAK)return sl}let o=a(l),u=o&&o(l);return{c(){e=h("li"),n=h("div"),t=h("h6"),r=V(s),i=S(),u&&u.c(),c=S(),ee(n,"completed",l[27].completed)},m(f,p){v(f,e,p),b(e,n),b(n,t),b(t,r),b(n,i),u&&u.m(n,null),b(e,c)},p(f,p){p&1&&s!==(s=(f[27].display_name||f[27].name)+"")&&X(r,s),o===(o=a(f))&&u?u.p(f,p):(u&&u.d(1),u=o&&o(f),u&&(u.c(),u.m(n,null))),p&1&&ee(n,"completed",f[27].completed)},d(f){f&&k(e),u&&u.d()}}}function al(l){let e,n,t,s,r,i,c,a,o,u,f,p,m,_,d,T;t=new Ge({props:{label:"Elapsed",value:l[14].asClock(l[5])}}),r=new Ge({props:{label:"Remaining",value:l[14].asClock(l[4]-l[5])}}),c=new Ge({props:{label:"Cycles",value:l[2].toString()+"/"+l[7].length.toString()}}),o=new Ge({props:{label:"Tabatas",value:l[3].toString()+"/"+l[8].tabatas}}),f=new yt({props:{$$slots:{default:[Jn]},$$scope:{ctx:l}}}),f.$on("click",l[13]);const A=[xn,Zn],$=[];function P(y,O){return y[6]?0:1}return m=P(l),_=$[m]=A[m](l),{c(){e=h("div"),n=h("div"),R(t.$$.fragment),s=S(),R(r.$$.fragment),i=S(),R(c.$$.fragment),a=S(),R(o.$$.fragment),u=S(),R(f.$$.fragment),p=S(),_.c(),d=oe(),g(n,"class","counters svelte-1bidnc5"),g(e,"class","clock-container svelte-1bidnc5")},m(y,O){v(y,e,O),b(e,n),I(t,n,null),b(n,s),I(r,n,null),b(n,i),I(c,n,null),b(n,a),I(o,n,null),b(e,u),I(f,e,null),v(y,p,O),$[m].m(y,O),v(y,d,O),T=!0},p(y,[O]){const j={};O&32&&(j.value=y[14].asClock(y[5])),t.$set(j);const x={};O&48&&(x.value=y[14].asClock(y[4]-y[5])),r.$set(x);const G={};O&132&&(G.value=y[2].toString()+"/"+y[7].length.toString()),c.$set(G);const D={};O&264&&(D.value=y[3].toString()+"/"+y[8].tabatas),o.$set(D);const se={};O&1073742368&&(se.$$scope={dirty:O,ctx:y}),f.$set(se);let B=m;m=P(y),m===B?$[m].p(y,O):(te(),E($[B],1,1,()=>{$[B]=null}),ne(),_=$[m],_?_.p(y,O):(_=$[m]=A[m](y),_.c()),w(_,1),_.m(d.parentNode,d))},i(y){T||(w(t.$$.fragment,y),w(r.$$.fragment,y),w(c.$$.fragment,y),w(o.$$.fragment,y),w(f.$$.fragment,y),w(_),T=!0)},o(y){E(t.$$.fragment,y),E(r.$$.fragment,y),E(c.$$.fragment,y),E(o.$$.fragment,y),E(f.$$.fragment,y),E(_),T=!1},d(y){y&&k(e),C(t),C(r),C(c),C(o),C(f),y&&k(p),$[m].d(y),y&&k(d)}}}function cl(l,e,n){let t,s,r,i,c,a,o,u,f;W(l,Le,L=>n(0,s=L)),W(l,ae,L=>n(20,i=L)),W(l,_e,L=>n(6,c=L)),W(l,us,L=>n(7,a=L)),W(l,cs,L=>n(8,o=L)),W(l,at,L=>n(10,f=L)),_e.set(!1);const p=()=>{c||P(j)},m=()=>{n(1,M.background=null,M),window.speechSynthesis.pending&&window.speechSynthesis.cancel()},_=()=>{m(),Le.reset(),D.set(0)},d=L=>{isNaN(j)||j<0?L.detail.active&&L.detail.toggle():L.detail.active?D.start():D.stop()},T=(L,q,F)=>{if(!i.use_voice)return;let Z="";if(q==1)switch(L.type){case J.WORK:Z+="Go:";break;case J.REST:case J.BREAK:Z+="Stop:";break}else F<3?Z+=(F+1).toString()+":":q==2&&[J.PREPARE,J.REST].includes(L.type)?(Z+=L.type==J.PREPARE?"Prep:":"Rest:",Z+=A(j+1)):q==15&&L.type==J.BREAK&&(Z+="Get Ready:",Z+=A(j+1));Z.length&&Xe.speak(Z)},A=L=>{let q="";if(s.length&&s[L]){const F=s[L];F.type==J.WORK&&(q+="Next Exercise is "+(F.display_name||F.name)+":",F.band_pos>0&&(q+="Band's Position:"+F.band_pos_text+":"))}return q},$=L=>{const{node:q,child:F}=y(L);q&&Array.from(q.children).forEach(Z=>{Z.classList.remove("highlight")}),!!F&&F.classList.add("highlight")},P=L=>{const{node:q,child:F}=y(L);!F||q.scroll({left:F.offsetWidth*L,behavior:"smooth"})},y=L=>{if(L<0)return{node:null,child:null};const q=document.getElementById("routine_scroll");if(!q)return{node:null,child:null};const F=q.children[L];return F?{node:q,child:F}:{node:q,child:null}};qe(()=>{r>0&&s.length&&(j=s.findIndex(L=>L.completed===!1),P(j))}),Ye(()=>{m(),D.stop(),Te.setItem("tabata_time",r)});let O=0,j=-1,x=0,G=0;const D=wt();W(l,D,L=>n(5,r=L)),D.set(parseInt(Te.getItem("tabata_time")));const se=be(D,L=>{if(!s.length||(j=s.findIndex($e=>$e.completed===!1),j<0))return 0;const q=s[j];O=s.reduce(($e,Pe)=>$e+(Pe.completed===!0?Pe.duration:0),0);const F=L-O,Z=q.duration-F;return D.isTicking()&&!Le.isComplete()&&(n(2,x=j>-1?s[j].cycle:0),n(3,G=j>-1?s[j].round:0),T(q,F,Z),n(1,M.background=is[q.type],M),Z==0&&(P(j+1),$(j+1),Le.markItemComplete(j))),Z+1},0);W(l,se,L=>n(9,u=L));const B=()=>M.goto("href","create"),Q=()=>M.goto("href","random");return l.$$.update=()=>{l.$$.dirty&1&&n(4,t=s.reduce((L,q)=>L+(q.hasOwnProperty("duration")?q.duration:0),0))},[s,M,x,G,t,r,c,a,o,u,f,p,_,d,D,se,B,Q]}class Ct extends Y{constructor(e){super();z(this,e,cl,al,H,{})}}function ul(l){let e,n,t=[{id:n=l[0].name},l[0]],s={};for(let r=0;r<t.length;r+=1)s=je(s,t[r]);return{c(){e=h("input"),ye(e,s)},m(r,i){v(r,e,i),e.autofocus&&e.focus()},p(r,i){ye(e,s=Ke(t,[i&1&&n!==(n=r[0].name)&&{id:n},i&1&&r[0]]))},i:N,o:N,d(r){r&&k(e)}}}function fl(l){let e,n;return e=new Et({props:{checked:l[0].value,name:l[0].name}}),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.checked=t[0].value),s&1&&(r.name=t[0].name),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ml(l){let e,n,t;const s=l[2].default,r=Ne(s,l,l[1],null);let i=[{id:n=l[0].name},l[0]],c={};for(let a=0;a<i.length;a+=1)c=je(c,i[a]);return{c(){e=h("select"),r&&r.c(),ye(e,c)},m(a,o){v(a,e,o),r&&r.m(e,null),(c.multiple?dt:Ue)(e,c.value),e.autofocus&&e.focus(),t=!0},p(a,o){r&&r.p&&(!t||o&2)&&Oe(r,s,a,a[1],t?Ve(s,a[1],o,null):Be(a[1]),null),ye(e,c=Ke(i,[(!t||o&1&&n!==(n=a[0].name))&&{id:n},o&1&&a[0]])),o&1&&"value"in c&&(c.multiple?dt:Ue)(e,c.value)},i(a){t||(w(r,a),t=!0)},o(a){E(r,a),t=!1},d(a){a&&k(e),r&&r.d(a)}}}function pl(l){let e,n=l[0].title+"",t,s,r,i,c,a,o;const u=[ml,fl,ul],f=[];function p(m,_){return m[0].type==="select"?0:m[0].type==="slider"?1:2}return i=p(l),c=f[i]=u[i](l),{c(){e=h("label"),t=V(n),r=S(),c.c(),a=oe(),g(e,"for",s=l[0].name)},m(m,_){v(m,e,_),b(e,t),v(m,r,_),f[i].m(m,_),v(m,a,_),o=!0},p(m,[_]){(!o||_&1)&&n!==(n=m[0].title+"")&&X(t,n),(!o||_&1&&s!==(s=m[0].name))&&g(e,"for",s);let d=i;i=p(m),i===d?f[i].p(m,_):(te(),E(f[d],1,1,()=>{f[d]=null}),ne(),c=f[i],c?c.p(m,_):(c=f[i]=u[i](m),c.c()),w(c,1),c.m(a.parentNode,a))},i(m){o||(w(c),o=!0)},o(m){E(c),o=!1},d(m){m&&k(e),m&&k(r),f[i].d(m),m&&k(a)}}}function _l(l,e,n){let{$$slots:t={},$$scope:s}=e,{props:r={}}=e;return l.$$set=i=>{"props"in i&&n(0,r=i.props),"$$scope"in i&&n(1,s=i.$$scope)},[r,s,t]}class Fe extends Y{constructor(e){super();z(this,e,_l,pl,H,{props:0})}}function Lt(l,e,n){const t=l.slice();return t[5]=e[n],t}function Nt(l){let e,n,t;return n=new Fe({props:{props:{name:"announce_every",title:"Announce Every (seconds)",value:l[0].announce_every,type:"number",min:0,max:3600}}}),{c(){e=h("li"),R(n.$$.fragment)},m(s,r){v(s,e,r),I(n,e,null),t=!0},p(s,r){const i={};r&1&&(i.props={name:"announce_every",title:"Announce Every (seconds)",value:s[0].announce_every,type:"number",min:0,max:3600}),n.$set(i)},i(s){t||(w(n.$$.fragment,s),t=!0)},o(s){E(n.$$.fragment,s),t=!1},d(s){s&&k(e),C(n)}}}function Ot(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!1,pending:vl,then:gl,catch:dl,value:4,blocks:[,,,]};return xe(Xe.voices,t),{c(){e=h("li"),t.block.c()},m(s,r){v(s,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(s,r){l=s,Ze(t,l,r)},i(s){n||(w(t.block),n=!0)},o(s){for(let r=0;r<3;r+=1){const i=t.blocks[r];E(i)}n=!1},d(s){s&&k(e),t.block.d(),t.token=null,t=null}}}function dl(l){return{c:N,m:N,p:N,i:N,o:N,d:N}}function gl(l){let e,n;return e=new Fe({props:{props:{name:"preferred_voice",title:"Preferred Voice",value:l[0].preferred_voice,type:"select"},$$slots:{default:[hl]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.props={name:"preferred_voice",title:"Preferred Voice",value:t[0].preferred_voice,type:"select"}),s&8&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Bt(l){let e,n=l[5].name+"",t,s;return{c(){e=h("option"),t=V(n),e.__value=s=l[5].name,e.value=e.__value},m(r,i){v(r,e,i),b(e,t)},p:N,d(r){r&&k(e)}}}function bl(l){let e,n=l[4],t=[];for(let s=0;s<n.length;s+=1)t[s]=Bt(Lt(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=oe()},m(s,r){for(let i=0;i<t.length;i+=1)t[i].m(s,r);v(s,e,r)},p(s,r){if(r&0){n=s[4];let i;for(i=0;i<n.length;i+=1){const c=Lt(s,n,i);t[i]?t[i].p(c,r):(t[i]=Bt(c),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(s){ce(t,s),s&&k(e)}}}function hl(l){let e;const n=l[2].default,t=Ne(n,l,l[3],null),s=t||bl(l);return{c(){s&&s.c()},m(r,i){s&&s.m(r,i),e=!0},p(r,i){t&&t.p&&(!e||i&8)&&Oe(t,n,r,r[3],e?Ve(n,r[3],i,null):Be(r[3]),null)},i(r){e||(w(s,r),e=!0)},o(r){E(s,r),e=!1},d(r){s&&s.d(r)}}}function vl(l){let e;return{c(){e=h("p"),e.textContent="Loading"},m(n,t){v(n,e,t)},p:N,i:N,o:N,d(n){n&&k(e)}}}function kl(l){let e,n,t,s,r,i,c,a,o,u,f,p;t=new Fe({props:{props:{name:"prep_time",title:"Prep Time (seconds)",value:l[0].prep_time,type:"number",min:0,max:3600}}});let m=l[0].use_voice&&Nt(l);c=new Fe({props:{props:{name:"show_plank",title:"Show Planks?",value:l[0].show_plank,type:"slider"}}}),u=new Fe({props:{props:{name:"use_voice",title:"Use Voice?",value:l[0].use_voice,type:"slider"}}});let _=l[0].use_voice&&Ot(l);return{c(){e=h("ul"),n=h("li"),R(t.$$.fragment),s=S(),m&&m.c(),r=S(),i=h("li"),R(c.$$.fragment),a=S(),o=h("li"),R(u.$$.fragment),f=S(),_&&_.c()},m(d,T){v(d,e,T),b(e,n),I(t,n,null),b(e,s),m&&m.m(e,null),b(e,r),b(e,i),I(c,i,null),b(e,a),b(e,o),I(u,o,null),b(e,f),_&&_.m(e,null),p=!0},p(d,T){const A={};T&1&&(A.props={name:"prep_time",title:"Prep Time (seconds)",value:d[0].prep_time,type:"number",min:0,max:3600}),t.$set(A),d[0].use_voice?m?(m.p(d,T),T&1&&w(m,1)):(m=Nt(d),m.c(),w(m,1),m.m(e,r)):m&&(te(),E(m,1,1,()=>{m=null}),ne());const $={};T&1&&($.props={name:"show_plank",title:"Show Planks?",value:d[0].show_plank,type:"slider"}),c.$set($);const P={};T&1&&(P.props={name:"use_voice",title:"Use Voice?",value:d[0].use_voice,type:"slider"}),u.$set(P),d[0].use_voice?_?(_.p(d,T),T&1&&w(_,1)):(_=Ot(d),_.c(),w(_,1),_.m(e,null)):_&&(te(),E(_,1,1,()=>{_=null}),ne())},i(d){p||(w(t.$$.fragment,d),w(m),w(c.$$.fragment,d),w(u.$$.fragment,d),w(_),p=!0)},o(d){E(t.$$.fragment,d),E(m),E(c.$$.fragment,d),E(u.$$.fragment,d),E(_),p=!1},d(d){d&&k(e),C(t),m&&m.d(),C(c),C(u),_&&_.d()}}}function $l(l){let e,n;return e=new Qe({props:{title:"Timer Settings",$$slots:{default:[kl]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,s){const r={};s&9&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function wl(l){let e,n;return e=new rt({props:{$$slots:{default:[$l]},$$scope:{ctx:l}}}),e.$on("close",l[1]),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,[s]){const r={};s&9&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function yl(l,e,n){let t;W(l,ae,c=>n(0,t=c));let{$$slots:s={},$$scope:r}=e;const i=c=>{const a=c.detail.currentTarget.parentNode.parentNode,o=new FormData(a);De(ae,t.show_plank=o.has("show_plank"),t),De(ae,t.use_voice=o.has("use_voice"),t),De(ae,t.prep_time=parseInt(o.get("prep_time").toString()),t),De(ae,t.announce_every=parseInt(o.get("announce_every").toString()),t),De(ae,t.preferred_voice=o.get("preferred_voice"),t),_e.set(!1)};return l.$$set=c=>{"$$scope"in c&&n(3,r=c.$$scope)},[t,i,s,r]}class El extends Y{constructor(e){super();z(this,e,yl,wl,H,{})}}function Vt(l,e,n){const t=l.slice();return t[10]=e[n],t}function Sl(l){let e,n;return{c(){e=h("img"),we(e.src,n="/css/icons/power-outline.svg")||g(e,"src",n),g(e,"alt","Start!"),g(e,"class","loading svelte-9by8qp")},m(t,s){v(t,e,s)},p:N,d(t){t&&k(e)}}}function Tl(l){let e=l[4].asClock(l[1])+"",n;return{c(){n=V(e)},m(t,s){v(t,n,s)},p(t,s){s&2&&e!==(e=t[4].asClock(t[1])+"")&&X(n,e)},d(t){t&&k(n)}}}function Al(l){let e,n;function t(i,c){return(e==null||c&2)&&(e=!!(i[1]||i[4].isTicking())),e?Tl:Sl}let s=t(l,-1),r=s(l);return{c(){r.c(),n=oe()},m(i,c){r.m(i,c),v(i,n,c)},p(i,c){s===(s=t(i,c))&&r?r.p(i,c):(r.d(1),r=s(i),r&&(r.c(),r.m(n.parentNode,n)))},d(i){r.d(i),i&&k(n)}}}function Pl(l){let e,n,t,s;e=new st({}),e.$on("reset",l[4].reset);let r=l[0].show_plank&&l[3]&&jt(l);return{c(){R(e.$$.fragment),n=S(),r&&r.c(),t=oe()},m(i,c){I(e,i,c),v(i,n,c),r&&r.m(i,c),v(i,t,c),s=!0},p(i,c){i[0].show_plank&&i[3]?r?r.p(i,c):(r=jt(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i(i){s||(w(e.$$.fragment,i),s=!0)},o(i){E(e.$$.fragment,i),s=!1},d(i){C(e,i),i&&k(n),r&&r.d(i),i&&k(t)}}}function Rl(l){let e,n;return e=new El({}),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p:N,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function jt(l){let e,n,t,s,r=l[3],i=[];for(let c=0;c<r.length;c+=1)i[c]=Kt(Vt(l,r,c));return{c(){e=h("div"),n=h("h3"),n.textContent="Plank:",t=S(),s=h("ol");for(let c=0;c<i.length;c+=1)i[c].c();g(n,"class","svelte-9by8qp"),g(e,"class","planks svelte-9by8qp")},m(c,a){v(c,e,a),b(e,n),b(e,t),b(e,s);for(let o=0;o<i.length;o+=1)i[o].m(s,null)},p(c,a){if(a&8){r=c[3];let o;for(o=0;o<r.length;o+=1){const u=Vt(c,r,o);i[o]?i[o].p(u,a):(i[o]=Kt(u),i[o].c(),i[o].m(s,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},d(c){c&&k(e),ce(i,c)}}}function Kt(l){let e,n=l[10].name+"",t;return{c(){e=h("li"),t=V(n),g(e,"class","svelte-9by8qp")},m(s,r){v(s,e,r),b(e,t)},p(s,r){r&8&&n!==(n=s[10].name+"")&&X(t,n)},d(s){s&&k(e)}}}function Il(l){let e,n,t,s,r,i,c;n=new yt({props:{$$slots:{default:[Al]},$$scope:{ctx:l}}}),n.$on("click",l[6]);const a=[Rl,Pl],o=[];function u(f,p){return f[2]?0:1}return s=u(l),r=o[s]=a[s](l),{c(){e=h("div"),R(n.$$.fragment),t=S(),r.c(),i=oe(),g(e,"class","bttn-container svelte-9by8qp")},m(f,p){v(f,e,p),I(n,e,null),v(f,t,p),o[s].m(f,p),v(f,i,p),c=!0},p(f,[p]){const m={};p&8194&&(m.$$scope={dirty:p,ctx:f}),n.$set(m);let _=s;s=u(f),s===_?o[s].p(f,p):(te(),E(o[_],1,1,()=>{o[_]=null}),ne(),r=o[s],r?r.p(f,p):(r=o[s]=a[s](f),r.c()),w(r,1),r.m(i.parentNode,i))},i(f){c||(w(n.$$.fragment,f),w(r),c=!0)},o(f){E(n.$$.fragment,f),E(r),c=!1},d(f){f&&k(e),C(n),f&&k(t),o[s].d(f),f&&k(i)}}}function Cl(l,e,n){let t,s,r,i,c;W(l,ae,p=>n(0,t=p)),W(l,_e,p=>n(2,i=p)),W(l,fs,p=>n(3,c=p)),_e.set(!1);const a=()=>{M.background=null,window.speechSynthesis.pending&&window.speechSynthesis.cancel()};qe(()=>{if(s&&t.prep_time){const p=s-t.prep_time;M.background=p<0?M.backgrounds.PREPARE:M.backgrounds.WORK}}),Ye(()=>{a(),o.stop(),Te.setItem("timer_time",s)});const o=wt();W(l,o,p=>n(8,s=p)),o.set(parseInt(Te.getItem("timer_time")));const u=be(o,(p,m)=>{const _=t.prep_time,d=t.use_voice,T=t.announce_every;let A=p-_,$=A<0?0:A;if(o.isTicking()){if(A<0?M.background=M.backgrounds.PREPARE:A>=0&&(M.background=M.backgrounds.WORK),$=A<0?_-(_+A):A,d){let P="";if(A<=0&&A>=-3)P+=$===0?"Go!":$.toString();else if(T>0&&$%T==0){let{m:y,s:O}=o.minSecs($);y!==0&&(P+=y+" minute"+(y==1?" ":"s ")),O!==0&&(P+=O+" second"+(O==1?"":"s"))}P.length&&Xe.speak(P)}}else a();m($)},0);return W(l,u,p=>n(1,r=p)),[t,r,i,c,o,u,p=>p.detail.active?o.start():o.stop()]}class Ll extends Y{constructor(e){super();z(this,e,Cl,Il,H,{})}}function Nl(l){let e,n,t,s,r,i,c,a,o;return{c(){e=h("div"),n=h("label"),t=V(l[2]),s=S(),r=h("input"),i=S(),c=h("label"),g(n,"class","bulb-label svelte-1flq487"),g(n,"for",l[1]),g(r,"type","checkbox"),g(r,"name",l[1]),g(r,"id",l[1]),g(r,"class","svelte-1flq487"),g(c,"class","bulb svelte-1flq487"),g(c,"for",l[1]),g(e,"class","svelte-1flq487")},m(u,f){v(u,e,f),b(e,n),b(n,t),b(e,s),b(e,r),r.checked=l[0],b(e,i),b(e,c),a||(o=[K(r,"change",l[4]),K(r,"change",l[3])],a=!0)},p(u,[f]){f&4&&X(t,u[2]),f&2&&g(n,"for",u[1]),f&2&&g(r,"name",u[1]),f&2&&g(r,"id",u[1]),f&1&&(r.checked=u[0]),f&2&&g(c,"for",u[1])},i:N,o:N,d(u){u&&k(e),a=!1,Se(o)}}}function Ol(l,e,n){const t=Re();let s=o=>{t("change",o.currentTarget.checked)},{name:r=void 0}=e,{checked:i=!1}=e,{label:c=void 0}=e;function a(){i=this.checked,n(0,i)}return l.$$set=o=>{"name"in o&&n(1,r=o.name),"checked"in o&&n(0,i=o.checked),"label"in o&&n(2,c=o.label)},[i,r,c,s,a]}class qt extends Y{constructor(e){super();z(this,e,Ol,Nl,H,{name:1,checked:0,label:2})}}function Bl(l){let e,n,t,s,r,i,c=[l[4](l[1],l[2])],a={};for(let o=0;o<c.length;o+=1)a=je(a,c[o]);return{c(){e=h("label"),n=V(l[0]),t=S(),s=h("input"),g(e,"for",l[1]),ye(s,a),ee(s,"bold",l[3])},m(o,u){v(o,e,u),b(e,n),v(o,t,u),v(o,s,u),s.autofocus&&s.focus(),r||(i=[K(s,"input",l[8]),K(s,"change",l[9]),K(s,"focus",l[5]),K(s,"blur",l[5])],r=!0)},p(o,[u]){u&1&&X(n,o[0]),u&2&&g(e,"for",o[1]),ye(s,a=Ke(c,[u&6&&o[4](o[1],o[2])])),ee(s,"bold",o[3])},i:N,o:N,d(o){o&&k(e),o&&k(t),o&&k(s),r=!1,Se(i)}}}function Vl(l,e,n){const t=(m,_)=>({type:a,name:m,id:m,value:_,editable:!o}),s=m=>{const _=m.currentTarget;switch(m.type){case"focus":_.parentNode.classList.add("active"),_.classList.add("bold"),_.select();break;case"blur":_.parentNode.classList.add("inactive"),_.classList.remove("bold"),setTimeout(()=>{_.parentNode.classList.remove("active"),_.parentNode.classList.remove("inactive")},600);break}};let{label:r,name:i,value:c}=e,{type:a="number"}=e,{disabled:o=!1}=e,{bold:u=!1}=e;function f(m){Ee.call(this,l,m)}function p(m){Ee.call(this,l,m)}return l.$$set=m=>{"label"in m&&n(0,r=m.label),"name"in m&&n(1,i=m.name),"value"in m&&n(2,c=m.value),"type"in m&&n(6,a=m.type),"disabled"in m&&n(7,o=m.disabled),"bold"in m&&n(3,u=m.bold)},[r,i,c,u,t,s,a,o,f,p]}class it extends Y{constructor(e){super();z(this,e,Vl,Bl,H,{label:0,name:1,value:2,type:6,disabled:7,bold:3})}}function Dt(l,e,n){const t=l.slice();return t[12]=e[n],t}function Wt(l,e,n){const t=l.slice();return t[15]=e[n],t}function Mt(l){let e,n,t,s;return n=new it({props:{label:l[15].title,name:l[15].id,value:l[2].rules.hasOwnProperty(l[15].id)?l[2].rules[l[15].id]:0}}),n.$on("input",l[5]),{c(){e=h("li"),R(n.$$.fragment),t=S()},m(r,i){v(r,e,i),I(n,e,null),b(e,t),s=!0},p(r,i){const c={};i&8&&(c.label=r[15].title),i&8&&(c.name=r[15].id),i&12&&(c.value=r[2].rules.hasOwnProperty(r[15].id)?r[2].rules[r[15].id]:0),n.$set(c)},i(r){s||(w(n.$$.fragment,r),s=!0)},o(r){E(n.$$.fragment,r),s=!1},d(r){r&&k(e),C(n)}}}function jl(l){let e,n,t=l[3],s=[];for(let i=0;i<t.length;i+=1)s[i]=Mt(Wt(l,t,i));const r=i=>E(s[i],1,1,()=>{s[i]=null});return{c(){e=h("ul");for(let i=0;i<s.length;i+=1)s[i].c()},m(i,c){v(i,e,c);for(let a=0;a<s.length;a+=1)s[a].m(e,null);n=!0},p(i,c){if(c&44){t=i[3];let a;for(a=0;a<t.length;a+=1){const o=Wt(i,t,a);s[a]?(s[a].p(o,c),w(s[a],1)):(s[a]=Mt(o),s[a].c(),w(s[a],1),s[a].m(e,null))}for(te(),a=t.length;a<s.length;a+=1)r(a);ne()}},i(i){if(!n){for(let c=0;c<t.length;c+=1)w(s[c]);n=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)E(s[c]);n=!1},d(i){i&&k(e),ce(s,i)}}}function Gt(l){let e,n,t;const s=[{label:l[12].label},{name:l[12].name},{value:l[12].value},l[12]];let r={};for(let i=0;i<s.length;i+=1)r=je(r,s[i]);return n=new it({props:r}),n.$on("input",l[6]),{c(){e=h("li"),R(n.$$.fragment)},m(i,c){v(i,e,c),I(n,e,null),t=!0},p(i,c){const a=c&512?Ke(s,[{label:i[12].label},{name:i[12].name},{value:i[12].value},un(i[12])]):{};n.$set(a)},i(i){t||(w(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&k(e),C(n)}}}function Kl(l){let e,n,t,s,r,i=l[9](),c=[];for(let o=0;o<i.length;o+=1)c[o]=Gt(Dt(l,i,o));const a=o=>E(c[o],1,1,()=>{c[o]=null});return s=new it({props:{label:"Total Time",name:"totalWorkoutTime",value:We(l[1]),type:"text",disabled:!0,bold:!0}}),{c(){e=h("ul");for(let o=0;o<c.length;o+=1)c[o].c();n=S(),t=h("li"),R(s.$$.fragment)},m(o,u){v(o,e,u);for(let f=0;f<c.length;f+=1)c[f].m(e,null);b(e,n),b(e,t),I(s,t,null),r=!0},p(o,u){if(u&576){i=o[9]();let p;for(p=0;p<i.length;p+=1){const m=Dt(o,i,p);c[p]?(c[p].p(m,u),w(c[p],1)):(c[p]=Gt(m),c[p].c(),w(c[p],1),c[p].m(e,n))}for(te(),p=i.length;p<c.length;p+=1)a(p);ne()}const f={};u&2&&(f.value=We(o[1])),s.$set(f)},i(o){if(!r){for(let u=0;u<i.length;u+=1)w(c[u]);w(s.$$.fragment,o),r=!0}},o(o){c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)E(c[u]);E(s.$$.fragment,o),r=!1},d(o){o&&k(e),ce(c,o),C(s)}}}function ql(l){let e,n,t,s,r,i,c,a,o;return e=new Qe({props:{title:"Exercises ("+l[0]+")",$$slots:{default:[jl]},$$scope:{ctx:l}}}),t=new Qe({props:{title:"Tabata",$$slots:{default:[Kl]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment),n=S(),R(t.$$.fragment),s=S(),r=h("div"),i=h("button"),i.textContent="Create",g(i,"class","default-button"),g(i,"type","submit"),g(r,"class","submit svelte-53plpy")},m(u,f){I(e,u,f),v(u,n,f),I(t,u,f),v(u,s,f),v(u,r,f),b(r,i),c=!0,a||(o=K(i,"click",Ce(l[8])),a=!0)},p(u,f){const p={};f&1&&(p.title="Exercises ("+u[0]+")"),f&262156&&(p.$$scope={dirty:f,ctx:u}),e.$set(p);const m={};f&262146&&(m.$$scope={dirty:f,ctx:u}),t.$set(m)},i(u){c||(w(e.$$.fragment,u),w(t.$$.fragment,u),c=!0)},o(u){E(e.$$.fragment,u),E(t.$$.fragment,u),c=!1},d(u){C(e,u),u&&k(n),C(t,u),u&&k(s),u&&k(r),a=!1,o()}}}function Dl(l){let e,n;return e=new rt({props:{$$slots:{default:[ql]},$$scope:{ctx:l}}}),e.$on("close",l[7]),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p(t,[s]){const r={};s&262159&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Wl(l,e,n){let t,s,r,i;W(l,kt,d=>n(3,i=d));const c=ve.clone();W(l,c,d=>n(2,r=d));const a=(d,T=!1)=>{const A=parseInt(d.currentTarget.value);isNaN(A)||(T?c.updateRule(d.currentTarget.id,A):c.update($=>($.hasOwnProperty(d.currentTarget.id)&&($[d.currentTarget.id]=A),$)))},o=d=>{a(d,!0)},u=d=>{a(d,!1)},f=()=>{_e.set(!1)},p=()=>{ve.set(r),ue.generate(),f()};function m(){const d=["label","name","value","type","disabled","bold"],T={prep_time:"Prep Time",time_on:"Active Time",time_off:"Rest Time",rest_time:"Break Time",tabatas:"Rounds"};return Object.entries(r).filter($=>T.hasOwnProperty($[0])).map(([$,P])=>{const y=[T[$],$,P,"number",!1,!1];return Object.fromEntries(d.map((j,x)=>[j,y[x]]))})}const _=be(c,(d,T)=>{T(Object.entries(d.rules).reduce((A,$)=>A+(isNaN($[1])?0:$[1]),0))},0);return W(l,_,d=>n(0,s=d)),l.$$.update=()=>{l.$$.dirty&1&&n(1,t=c.getTotalTime(s))},[s,t,r,i,c,o,u,f,p,m,_]}class Ml extends Y{constructor(e){super();z(this,e,Wl,Dl,H,{})}}function Gl(l){let e,n,t,s,r,i,c,a;return e=new fe({props:{src:"/css/icons/redo-svgrepo-com.svg",alt:"Replace Exercise",min_dim:"1rem",data:{"data-id":l[1],"data-type":l[0].type,"data-action":"replace"}}}),e.$on("click",l[4]),t=new fe({props:{disabled:!l[2],src:"/css/icons/arrow-up-circle.svg",alt:"Move Up",min_dim:"1rem",data:{"data-id":l[1],"data-type":l[0].type,"data-action":"up"}}}),t.$on("click",l[4]),r=new fe({props:{disabled:!l[2],src:"/css/icons/arrow-down-circle.svg",alt:"Move Down",min_dim:"1rem",data:{"data-id":l[1],"data-type":l[0].type,"data-action":"down"}}}),r.$on("click",l[4]),c=new fe({props:{disabled:!l[3],src:"/css/icons/trash.svg",alt:"Delete Exercise",min_dim:"1rem",data:{"data-id":l[1],"data-type":l[0].type,"data-action":"delete"}}}),c.$on("click",l[4]),{c(){R(e.$$.fragment),n=S(),R(t.$$.fragment),s=S(),R(r.$$.fragment),i=S(),R(c.$$.fragment)},m(o,u){I(e,o,u),v(o,n,u),I(t,o,u),v(o,s,u),I(r,o,u),v(o,i,u),I(c,o,u),a=!0},p(o,[u]){const f={};u&3&&(f.data={"data-id":o[1],"data-type":o[0].type,"data-action":"replace"}),e.$set(f);const p={};u&4&&(p.disabled=!o[2]),u&3&&(p.data={"data-id":o[1],"data-type":o[0].type,"data-action":"up"}),t.$set(p);const m={};u&4&&(m.disabled=!o[2]),u&3&&(m.data={"data-id":o[1],"data-type":o[0].type,"data-action":"down"}),r.$set(m);const _={};u&8&&(_.disabled=!o[3]),u&3&&(_.data={"data-id":o[1],"data-type":o[0].type,"data-action":"delete"}),c.$set(_)},i(o){a||(w(e.$$.fragment,o),w(t.$$.fragment,o),w(r.$$.fragment,o),w(c.$$.fragment,o),a=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),E(r.$$.fragment,o),E(c.$$.fragment,o),a=!1},d(o){C(e,o),o&&k(n),C(t,o),o&&k(s),C(r,o),o&&k(i),C(c,o)}}}function Fl(l,e,n){const t=a=>{const o=a.currentTarget.dataset;let u=parseInt(o.id),f=parseInt(o.type);switch(o.action){case"up":case"down":ue.swapExercise(u,u+(o.action=="down"?1:-1),f);break;case"delete":case"replace":ue.alterExercise(u,f,o.action);break}};let{exercise:s=null}=e,{index:r=null}=e,{movementAllowed:i=!0}=e,{deleteAllowed:c=!0}=e;return l.$$set=a=>{"exercise"in a&&n(0,s=a.exercise),"index"in a&&n(1,r=a.index),"movementAllowed"in a&&n(2,i=a.movementAllowed),"deleteAllowed"in a&&n(3,c=a.deleteAllowed)},[s,r,i,c,t]}class Ft extends Y{constructor(e){super();z(this,e,Fl,Gl,H,{exercise:0,index:1,movementAllowed:2,deleteAllowed:3})}}function Ut(l,e,n){const t=l.slice();return t[8]=e[n],t[10]=n,t}function Yt(l,e,n){const t=l.slice();return t[11]=e[n],t[10]=n,t}function zt(l){let e,n,t,s=l[10]+1+"",r,i,c=l[11].display_name+"",a,o,u,f,p=l[11].target+"",m,_,d,T,A=l[11].band_pos_text+"",$,P,y,O,j,x,G,D,se;return O=new Ft({props:{exercise:l[11],index:l[10],movementAllowed:l[4]>1,deleteAllowed:l[4]>1}}),{c(){e=h("li"),n=h("div"),t=h("h6"),r=V(s),i=V(". "),a=V(c),o=S(),u=h("span"),f=V("Target: "),m=V(p),_=S(),d=h("span"),T=V("Band: "),$=V(A),P=S(),y=h("div"),R(O.$$.fragment),j=S(),g(t,"class","svelte-gs0zhv"),g(u,"class","svelte-gs0zhv"),g(d,"class","svelte-gs0zhv"),g(n,"class","exercise-info svelte-gs0zhv"),g(y,"class","exercise-actions svelte-gs0zhv"),g(e,"draggable",x=l[4]>1),g(e,"class","svelte-gs0zhv"),ee(e,"grabbable",l[4]>1)},m(B,Q){v(B,e,Q),b(e,n),b(n,t),b(t,r),b(t,i),b(t,a),b(n,o),b(n,u),b(u,f),b(u,m),b(n,_),b(n,d),b(d,T),b(d,$),b(e,P),b(e,y),I(O,y,null),b(e,j),G=!0,D||(se=K(e,"dragstart",l[2]),D=!0)},p(B,Q){(!G||Q&1)&&c!==(c=B[11].display_name+"")&&X(a,c),(!G||Q&1)&&p!==(p=B[11].target+"")&&X(m,p),(!G||Q&1)&&A!==(A=B[11].band_pos_text+"")&&X($,A);const L={};Q&1&&(L.exercise=B[11]),O.$set(L)},i(B){G||(w(O.$$.fragment,B),G=!0)},o(B){E(O.$$.fragment,B),G=!1},d(B){B&&k(e),C(O),D=!1,se()}}}function Ht(l){let e,n,t,s,r=l[0].planks,i=[];for(let a=0;a<r.length;a+=1)i[a]=Xt(Ut(l,r,a));const c=a=>E(i[a],1,1,()=>{i[a]=null});return{c(){e=h("h5"),e.textContent="Planks",n=S(),t=h("ol");for(let a=0;a<i.length;a+=1)i[a].c();g(e,"class","svelte-gs0zhv"),g(t,"class","row-cards")},m(a,o){v(a,e,o),v(a,n,o),v(a,t,o);for(let u=0;u<i.length;u+=1)i[u].m(t,null);s=!0},p(a,o){if(o&37){r=a[0].planks;let u;for(u=0;u<r.length;u+=1){const f=Ut(a,r,u);i[u]?(i[u].p(f,o),w(i[u],1)):(i[u]=Xt(f),i[u].c(),w(i[u],1),i[u].m(t,null))}for(te(),u=r.length;u<i.length;u+=1)c(u);ne()}},i(a){if(!s){for(let o=0;o<r.length;o+=1)w(i[o]);s=!0}},o(a){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)E(i[o]);s=!1},d(a){a&&k(e),a&&k(n),a&&k(t),ce(i,a)}}}function Xt(l){let e,n,t,s=l[10]+1+"",r,i,c=l[8].display_name+"",a,o,u,f,p=l[8].target+"",m,_,d,T,A=l[8].band_pos_text+"",$,P,y,O,j,x,G,D,se;return O=new Ft({props:{exercise:l[8],index:l[10],movementAllowed:l[5]>1,deleteAllowed:!1}}),{c(){e=h("li"),n=h("div"),t=h("h6"),r=V(s),i=V(". "),a=V(c),o=S(),u=h("span"),f=V("Target: "),m=V(p),_=S(),d=h("span"),T=V("Band: "),$=V(A),P=S(),y=h("div"),R(O.$$.fragment),j=S(),g(t,"class","svelte-gs0zhv"),g(u,"class","svelte-gs0zhv"),g(d,"class","svelte-gs0zhv"),g(n,"class","exercise-info svelte-gs0zhv"),g(y,"class","exercise-actions svelte-gs0zhv"),g(e,"draggable",x=l[5]>1),g(e,"class","svelte-gs0zhv"),ee(e,"grabbable",l[5]>1)},m(B,Q){v(B,e,Q),b(e,n),b(n,t),b(t,r),b(t,i),b(t,a),b(n,o),b(n,u),b(u,f),b(u,m),b(n,_),b(n,d),b(d,T),b(d,$),b(e,P),b(e,y),I(O,y,null),b(e,j),G=!0,D||(se=K(e,"dragstart",l[2]),D=!0)},p(B,Q){(!G||Q&1)&&c!==(c=B[8].display_name+"")&&X(a,c),(!G||Q&1)&&p!==(p=B[8].target+"")&&X(m,p),(!G||Q&1)&&A!==(A=B[8].band_pos_text+"")&&X($,A);const L={};Q&1&&(L.exercise=B[8]),O.$set(L)},i(B){G||(w(O.$$.fragment,B),G=!0)},o(B){E(O.$$.fragment,B),G=!1},d(B){B&&k(e),C(O),D=!1,se()}}}function Ul(l){let e,n,t,s,r,i,c,a,o=l[0].exercises,u=[];for(let m=0;m<o.length;m+=1)u[m]=zt(Yt(l,o,m));const f=m=>E(u[m],1,1,()=>{u[m]=null});let p=l[0].planks.length>0&&l[1]===!0&&Ht(l);return{c(){e=h("h5"),e.textContent="Exercises",n=S(),t=h("ol");for(let m=0;m<u.length;m+=1)u[m].c();s=S(),p&&p.c(),r=oe(),g(e,"class","svelte-gs0zhv"),g(t,"class","row-cards")},m(m,_){v(m,e,_),v(m,n,_),v(m,t,_);for(let d=0;d<u.length;d+=1)u[d].m(t,null);v(m,s,_),p&&p.m(m,_),v(m,r,_),i=!0,c||(a=[K(t,"dragover",Ce(l[6])),K(t,"drop",l[3])],c=!0)},p(m,[_]){if(_&21){o=m[0].exercises;let d;for(d=0;d<o.length;d+=1){const T=Yt(m,o,d);u[d]?(u[d].p(T,_),w(u[d],1)):(u[d]=zt(T),u[d].c(),w(u[d],1),u[d].m(t,null))}for(te(),d=o.length;d<u.length;d+=1)f(d);ne()}m[0].planks.length>0&&m[1]===!0?p?(p.p(m,_),_&3&&w(p,1)):(p=Ht(m),p.c(),w(p,1),p.m(r.parentNode,r)):p&&(te(),E(p,1,1,()=>{p=null}),ne())},i(m){if(!i){for(let _=0;_<o.length;_+=1)w(u[_]);w(p),i=!0}},o(m){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)E(u[_]);E(p),i=!1},d(m){m&&k(e),m&&k(n),m&&k(t),ce(u,m),m&&k(s),p&&p.d(m),m&&k(r),c=!1,Se(a)}}}function Yl(l,e,n){let t,s;W(l,ue,f=>n(0,t=f)),W(l,He,f=>n(1,s=f));let r=null;const i=f=>{r=f.currentTarget,f.dataTransfer.effectAllowed="move"},c=f=>{f.preventDefault();const p=f.path.indexOf(r.parentNode);if(p<1)return;const m=f.path[p-1];if(r===m)return;const _=Array.from(r.parentNode.children);ue.swapExercise(_.indexOf(r),_.indexOf(m),Ae.EXERCISE)};let a=t.exercises.length,o=t.planks.length;function u(f){Ee.call(this,l,f)}return[t,s,i,c,a,o,u]}class zl extends Y{constructor(e){super();z(this,e,Yl,Ul,H,{})}}function Qt(l,e,n){const t=l.slice();return t[10]=e[n],t}function Jt(l){let e,n=l[10][1]+"",t,s,r,i,c,a;return{c(){e=h("span"),t=V(n),s=S(),g(e,"class","sel-box-option svelte-fxr94"),g(e,"data-value",r=l[10][0]),g(e,"data-text",i=l[10][1]),ee(e,"selected",l[0]===l[10][0])},m(o,u){v(o,e,u),b(e,t),b(e,s),c||(a=K(e,"click",l[5]),c=!0)},p(o,u){u&4&&n!==(n=o[10][1]+"")&&X(t,n),u&4&&r!==(r=o[10][0])&&g(e,"data-value",r),u&4&&i!==(i=o[10][1])&&g(e,"data-text",i),u&5&&ee(e,"selected",o[0]===o[10][0])},d(o){o&&k(e),c=!1,a()}}}function Hl(l){let e,n,t,s,r,i,c,a=l[2],o=[];for(let u=0;u<a.length;u+=1)o[u]=Jt(Qt(l,a,u));return{c(){e=h("div"),n=h("span"),t=V(l[3]),s=S(),r=h("div");for(let u=0;u<o.length;u+=1)o[u].c();g(n,"class","sel-placeholder svelte-fxr94"),g(n,"data-placeholder",l[3]),g(r,"class","sel-box svelte-fxr94"),g(e,"class","sel svelte-fxr94"),g(e,"id",l[1]),ee(e,"active",l[4])},m(u,f){v(u,e,f),b(e,n),b(n,t),b(e,s),b(e,r);for(let p=0;p<o.length;p+=1)o[p].m(r,null);i||(c=K(e,"click",l[6]),i=!0)},p(u,[f]){if(f&8&&X(t,u[3]),f&8&&g(n,"data-placeholder",u[3]),f&37){a=u[2];let p;for(p=0;p<a.length;p+=1){const m=Qt(u,a,p);o[p]?o[p].p(m,f):(o[p]=Jt(m),o[p].c(),o[p].m(r,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=a.length}f&2&&g(e,"id",u[1]),f&16&&ee(e,"active",u[4])},i:N,o:N,d(u){u&&k(e),ce(o,u),i=!1,c()}}}function Xl(l,e,n){const t=Re(),s=()=>{const m=document.getElementById(o);if(!m)return null;let _="";return m.querySelectorAll(".sel-box-option").forEach(d=>{d.dataset.value==f&&(_=d.dataset.text)}),_},r=m=>{const _=document.getElementById(o).querySelector(".sel-placeholder");_.textContent=m},i=m=>{m.currentTarget.dataset.value!=f&&(n(0,f=m.currentTarget.dataset.value),r(m.currentTarget.dataset.text),t("change",f))},c=()=>{n(4,a=!a),t("open",a)};qe(()=>{const m=s();m&&r(m)});let a=!1,{name:o,options:u,value:f,placeholder:p}=e;return l.$$set=m=>{"name"in m&&n(1,o=m.name),"options"in m&&n(2,u=m.options),"value"in m&&n(0,f=m.value),"placeholder"in m&&n(3,p=m.placeholder)},[f,o,u,p,a,i,c]}class Ql extends Y{constructor(e){super();z(this,e,Xl,Hl,H,{name:1,options:2,value:0,placeholder:3})}}function Jl(l){let e,n,t,s,r,i,c,a,o,u;e=new Ql({props:{name:"workout_type",options:l[3].map(xt),value:l[2].id,placeholder:"Presets"}}),e.$on("change",l[8]),e.$on("open",l[11]),s=new qt({props:{checked:l[5],name:"with_equipment",label:"Bands?"}}),s.$on("change",l[9]);function f(_){l[14](_)}let p={name:"with_planks",label:"Planks?"};l[6]!==void 0&&(p.checked=l[6]),i=new qt({props:p}),mt.push(()=>pt(i,"checked",f));let m=!l[0]&&l[1].exercises.length&&Zt(l);return{c(){R(e.$$.fragment),n=S(),t=h("div"),R(s.$$.fragment),r=S(),R(i.$$.fragment),a=S(),m&&m.c(),o=oe(),g(t,"class","glow-buttons svelte-4wdsfb")},m(_,d){I(e,_,d),v(_,n,d),v(_,t,d),I(s,t,null),b(t,r),I(i,t,null),v(_,a,d),m&&m.m(_,d),v(_,o,d),u=!0},p(_,d){const T={};d&8&&(T.options=_[3].map(xt)),d&4&&(T.value=_[2].id),e.$set(T);const A={};d&32&&(A.checked=_[5]),s.$set(A);const $={};!c&&d&64&&(c=!0,$.checked=_[6],_t(()=>c=!1)),i.$set($),!_[0]&&_[1].exercises.length?m?(m.p(_,d),d&3&&w(m,1)):(m=Zt(_),m.c(),w(m,1),m.m(o.parentNode,o)):m&&(te(),E(m,1,1,()=>{m=null}),ne())},i(_){u||(w(e.$$.fragment,_),w(s.$$.fragment,_),w(i.$$.fragment,_),w(m),u=!0)},o(_){E(e.$$.fragment,_),E(s.$$.fragment,_),E(i.$$.fragment,_),E(m),u=!1},d(_){C(e,_),_&&k(n),_&&k(t),C(s),C(i),_&&k(a),m&&m.d(_),_&&k(o)}}}function Zl(l){let e,n;return e=new Ml({}),{c(){R(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p:N,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Zt(l){let e,n,t,s,r,i,c,a,o,u,f,p,m,_,d,T,A;return n=new fe({props:{src:"/css/icons/power-outline.svg",alt:"Go!",min_dim:"1.9rem"}}),n.$on("click",l[13]),r=new Ge({props:{label:"Total Time",value:We(ve.getTotalTime(l[1].exercises.length))}}),c=new fe({props:{src:"/css/icons/"+l[7],alt:"Share",min_dim:"1.9rem"}}),c.$on("click",l[12]),o=new st({}),o.$on("reset",l[10]),f=new zl({}),_=new fe({props:{src:"/css/icons/power-outline.svg",alt:"Go!",min_dim:"1.9rem"}}),_.$on("click",l[13]),T=new fe({props:{src:"/css/icons/"+l[7],alt:"Share",min_dim:"1.9rem"}}),T.$on("click",l[12]),{c(){e=h("div"),R(n.$$.fragment),t=S(),s=h("div"),R(r.$$.fragment),i=S(),R(c.$$.fragment),a=S(),R(o.$$.fragment),u=S(),R(f.$$.fragment),p=S(),m=h("div"),R(_.$$.fragment),d=S(),R(T.$$.fragment),g(s,"class","timer-counter svelte-4wdsfb"),g(e,"class","action-row svelte-4wdsfb"),g(m,"class","action-row svelte-4wdsfb")},m($,P){v($,e,P),I(n,e,null),b(e,t),b(e,s),I(r,s,null),b(e,i),I(c,e,null),v($,a,P),I(o,$,P),v($,u,P),I(f,$,P),v($,p,P),v($,m,P),I(_,m,null),b(m,d),I(T,m,null),A=!0},p($,P){const y={};P&2&&(y.value=We(ve.getTotalTime($[1].exercises.length))),r.$set(y)},i($){A||(w(n.$$.fragment,$),w(r.$$.fragment,$),w(c.$$.fragment,$),w(o.$$.fragment,$),w(f.$$.fragment,$),w(_.$$.fragment,$),w(T.$$.fragment,$),A=!0)},o($){E(n.$$.fragment,$),E(r.$$.fragment,$),E(c.$$.fragment,$),E(o.$$.fragment,$),E(f.$$.fragment,$),E(_.$$.fragment,$),E(T.$$.fragment,$),A=!1},d($){$&&k(e),C(n),C(r),C(c),$&&k(a),C(o,$),$&&k(u),C(f,$),$&&k(p),$&&k(m),C(_),C(T)}}}function xl(l){let e,n,t,s;const r=[Zl,Jl],i=[];function c(a,o){return a[4]?0:1}return e=c(l),n=i[e]=r[e](l),{c(){n.c(),t=oe()},m(a,o){i[e].m(a,o),v(a,t,o),s=!0},p(a,[o]){let u=e;e=c(a),e===u?i[e].p(a,o):(te(),E(i[u],1,1,()=>{i[u]=null}),ne(),n=i[e],n?n.p(a,o):(n=i[e]=r[e](a),n.c()),w(n,1),n.m(t.parentNode,t))},i(a){s||(w(n),s=!0)},o(a){E(n),s=!1},d(a){i[e].d(a),a&&k(t)}}}const xt=l=>[l.id,l.title];function es(l,e,n){let t,s,r,i,c,a;W(l,ue,P=>n(1,t=P)),W(l,ve,P=>n(2,s=P)),W(l,vn,P=>n(3,r=P)),W(l,_e,P=>n(4,i=P)),W(l,ze,P=>n(5,c=P)),W(l,He,P=>n(6,a=P));let o=!1,u=navigator.share&&navigator.canShare(),f=u?"share.svg":"link.svg";const p=P=>{const y=r.find(O=>O.id==P.detail);y&&(ve.set(y),ue.generate())},m=P=>{ze.set(P.detail),ue.generate()},_=()=>{s.id&&ue.generate()},d=P=>{n(0,o=P.detail)},T=async()=>{ue.save();const P={title:"Share Test",text:"Kalabaaz Workout",url:"https://navneet.github.io"};u?window.navigator.share(P).catch(y=>{console.error(y)}):navigator.clipboard&&navigator.clipboard.writeText(P.url).then(y=>{console.log("Show copied notification here")}).catch(y=>{console.error(y)})},A=()=>{ue.save(),at.triggerNew(t,!0),M.goto("name","Tabata")};_e.set(!1);function $(P){a=P,He.set(a)}return[o,t,s,r,i,c,a,f,p,m,_,d,T,A,$]}class ts extends Y{constructor(e){super();z(this,e,es,xl,H,{})}}function ns(l){return qe(()=>{et.set(!0)}),Ye(()=>{et.set(!1)}),[]}class ls extends Y{constructor(e){super();z(this,e,ns,null,H,{})}}const ss=()=>{const{subscribe:l,set:e}=ie(Object.preventExtensions({name:"",pageTitle:"",href:"",component:null,submenu:[]})),n=(a,o,u=t())=>{u.forEach(f=>{f.submenu.length?n(a,o,f.submenu):o==f[a]&&e(f)})},t=()=>{const a=new Array;return a.push({name:"Tabata",pageTitle:"Tabata Workout",href:"tabata",component:Ct,submenu:[]}),a.push({name:"Timer",pageTitle:"Timer",href:"timer",component:Ll,submenu:[]}),a.push({name:"Workout",pageTitle:void 0,href:"/",component:void 0,submenu:[{name:"Create New()",pageTitle:"Create New Workout",href:"create",component:ts,submenu:[]},{name:"Get Random()",pageTitle:"Random Workout",href:"random",component:Ct,submenu:[]}]}),a.push({name:"Music",pageTitle:"Music",href:"music",component:ls,submenu:[]}),a},s=()=>["img-1.jpg","img-2.jpg","img-3.jpg","img-4.jpg","img-5.jpg","img-6.jpg","img-7.png"].map(a=>tt.NAVBAR_IMG_BASE_URL+"/"+a),r=()=>Object.preventExtensions({PREPARE:"prep",WORK:"work",REST:"rest",BREAK:"break"}),i=(a=null)=>{if(a==c)return;const o=Object.values(r());document.body.classList.remove(...o),o.includes(a)&&document.body.classList.add(a),c=a};let c=null;return{subscribe:l,goto:n,get items(){return t()},get bgImages(){return s()},get backgrounds(){return r()},get background(){return c},set background(a){i(a)},set open(a){ot.set(Boolean(a))}}},M=ss(),ot=ie(!1),J={PREPARE:-3,BREAK:-2,REST:-1,WORK:1},Je=(l=null)=>{const e=Object.preventExtensions(Object.assign({completed:!1,cycle:0,round:0,duration:0},nt()));return l?Object.assign(e,l):e},rs=()=>{const{subscribe:l,set:e,update:n}=ie([]),t=a=>{a.hasOwnProperty("meta")&&e(s(a.meta,a.exercises))},s=(a,o)=>{let u=[];for(let f=0;f<a.tabatas;f++)if(o.forEach((p,m)=>{const _=Object.assign({completed:!1,cycle:m+1,round:f+1,duration:a.time_on},p);if(u.push(Je(_)),m<o.length-1){const d={name:"Rest",display_name:"Rest",type:J.REST,completed:!1,cycle:m+1,round:f+1,duration:a.time_off};u.push(Je(d))}}),f<a.tabatas-1){const p={name:"Break",display_name:"Break",type:J.BREAK,completed:!1,cycle:0,round:f+2,duration:a.rest_time};u.push(Je(p))}return a.prep_time&&u.unshift(Je({name:"Prepare",display_name:"Prepare",type:J.PREPARE,completed:!1,cycle:0,round:0,duration:a.prep_time})),u};function r(a){a>=0&&n(o=>(console.log(o),o[a]&&(o[a].completed=!0),o))}return{subscribe:l,init:t,reset:()=>{n(a=>a.map(o=>(o.completed=!1,o)))},isComplete:()=>{let a=!1;return n(o=>(a=Boolean(o.length)&&o.every(u=>u.completed===!0),o)),a},markItemComplete:r}},is={[J.PREPARE]:M.backgrounds.PREPARE,[J.REST]:M.backgrounds.REST,[J.BREAK]:M.backgrounds.BREAK,[J.WORK]:M.backgrounds.WORK},Le=rs(),os=()=>{const{subscribe:l,set:e,update:n}=ie(""),t=async()=>{const i=dn(window.location.href);if(i.get("w")&&!le.isStemWorkout(i.get("w"))){s(i.get("w"));return}const c=le.getItem("workout");c&&r(c)},s=async i=>{bt.getWorkout(i).then(c=>{r(c)}).catch(c=>{console.error(c);const a=le.getBackupStem(i);a&&r(a)})},r=(i,c=!1)=>{const a=i.meta.path_stem;let o=c;c||n(u=>(o=a!==u,u)),o===!0&&(le.setItem("workout",i),Te.setItem("tabata_time",0),e(a),de.set(i))};return{subscribe:l,init:t,triggerNew:r,set:s}},as=()=>{const{subscribe:l,set:e}=ie([]);return{subscribe:l,set:t=>{e(t),Le.init(t)}}},de=as(),at=os(),cs=be(de,l=>l.hasOwnProperty("meta")?l.meta:{tabatas:0,prep_time:0,time_on:0,time_off:0,rest_time:0},{}),us=be(de,l=>l.hasOwnProperty("exercises")?l.exercises:[],[]),fs=be(de,l=>l.hasOwnProperty("planks")?l.planks:[],[]);function en(l,e,n){const t=l.slice();return t[5]=e[n],t}function tn(l,e,n){const t=l.slice();return t[8]=e[n],t}function ms(l){let e,n=l[5].name+"",t,s,r,i;return{c(){e=h("a"),t=V(n),g(e,"href",s=l[5].href),g(e,"class","text-item")},m(c,a){v(c,e,a),b(e,t),r||(i=K(e,"click",Ce(l[2])),r=!0)},p(c,a){a&1&&n!==(n=c[5].name+"")&&X(t,n),a&1&&s!==(s=c[5].href)&&g(e,"href",s)},d(c){c&&k(e),r=!1,i()}}}function ps(l){let e,n=l[5].name+"",t,s,r,i,c,a,o,u=l[5].submenu,f=[];for(let p=0;p<u.length;p+=1)f[p]=nn(tn(l,u,p));return{c(){e=h("a"),t=V(n),s=h("span"),i=S(),c=h("ul");for(let p=0;p<f.length;p+=1)f[p].c();g(s,"class","icon"),g(e,"href",r=l[5].href),g(e,"class","text-item"),g(c,"class","submenu")},m(p,m){v(p,e,m),b(e,t),b(e,s),v(p,i,m),v(p,c,m);for(let _=0;_<f.length;_+=1)f[_].m(c,null);a||(o=K(e,"click",Ce(l[3])),a=!0)},p(p,m){if(m&1&&n!==(n=p[5].name+"")&&X(t,n),m&1&&r!==(r=p[5].href)&&g(e,"href",r),m&5){u=p[5].submenu;let _;for(_=0;_<u.length;_+=1){const d=tn(p,u,_);f[_]?f[_].p(d,m):(f[_]=nn(d),f[_].c(),f[_].m(c,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=u.length}},d(p){p&&k(e),p&&k(i),p&&k(c),ce(f,p),a=!1,o()}}}function nn(l){let e,n,t=l[8].name+"",s,r,i,c,a;return{c(){e=h("li"),n=h("a"),s=V(t),i=S(),g(n,"href",r=l[8].href),g(e,"class","sub-item")},m(o,u){v(o,e,u),b(e,n),b(n,s),b(e,i),c||(a=K(n,"click",Ce(l[2])),c=!0)},p(o,u){u&1&&t!==(t=o[8].name+"")&&X(s,t),u&1&&r!==(r=o[8].href)&&g(n,"href",r)},d(o){o&&k(e),c=!1,a()}}}function ln(l){let e,n;function t(i,c){return i[5].submenu.length?ps:ms}let s=t(l),r=s(l);return{c(){e=h("li"),r.c(),n=S(),Ie(e,"background-image","url("+l[1]+")"),g(e,"class","menu-link"),ee(e,"sub",l[5].submenu.length)},m(i,c){v(i,e,c),r.m(e,null),b(e,n)},p(i,c){s===(s=t(i))&&r?r.p(i,c):(r.d(1),r=s(i),r&&(r.c(),r.m(e,n))),c&2&&Ie(e,"background-image","url("+i[1]+")"),c&1&&ee(e,"sub",i[5].submenu.length)},d(i){i&&k(e),r.d()}}}function _s(l){let e,n,t,s,r,i,c,a,o=l[0].items,u=[];for(let f=0;f<o.length;f+=1)u[f]=ln(en(l,o,f));return{c(){e=h("nav"),n=h("a"),n.textContent="Kalabaaz",t=S(),s=h("i"),s.innerHTML="<span></span>",r=S(),i=h("ul");for(let f=0;f<u.length;f+=1)u[f].c();g(n,"href","/"),g(n,"class","home"),g(s,"class","hamburger"),g(e,"class","menubar"),g(i,"class","menu")},m(f,p){v(f,e,p),b(e,n),b(e,t),b(e,s),v(f,r,p),v(f,i,p);for(let m=0;m<u.length;m+=1)u[m].m(i,null);c||(a=K(s,"click",l[2]),c=!0)},p(f,[p]){if(p&15){o=f[0].items;let m;for(m=0;m<o.length;m+=1){const _=en(f,o,m);u[m]?u[m].p(_,p):(u[m]=ln(_),u[m].c(),u[m].m(i,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=o.length}},i:N,o:N,d(f){f&&k(e),f&&k(r),f&&k(i),ce(u,f),c=!1,a()}}}function ds(l,e,n){let t;qe(()=>{n(1,t=i())});const s=c=>{const a=document.querySelector(".hamburger"),o=document.querySelector(".menu");o.classList.contains("open")?(M.goto("href",c.currentTarget.getAttribute("href")),o.classList.add("close"),a.classList.remove("icon-cross"),n(0,M.open=!1,M),setTimeout(()=>{o.classList.remove("open")},1300)):(n(1,t=i()),o.classList.remove("close"),o.classList.add("open"),a.classList.add("icon-cross"),n(0,M.open=!0,M))},r=c=>{c.currentTarget.parentNode.classList.toggle("active")},i=()=>M.bgImages[Math.floor(Math.random()*M.bgImages.length)];return[M,t,s,r]}class gs extends Y{constructor(e){super();z(this,e,ds,_s,H,{})}}function bs(l){let e,n;return{c(){e=h("h2"),n=V(l[0]),g(e,"class","svelte-jm90z1")},m(t,s){v(t,e,s),b(e,n)},p(t,[s]){s&1&&X(n,t[0])},i:N,o:N,d(t){t&&k(e)}}}function hs(l,e,n){let{title:t=""}=e;return l.$$set=s=>{"title"in s&&n(0,t=s.title)},[t]}class vs extends Y{constructor(e){super();z(this,e,hs,bs,H,{title:0})}}function ks(l){let e,n=l[4]+"",t;return{c(){e=h("p"),t=V(n)},m(s,r){v(s,e,r),b(e,t)},p:N,d(s){s&&k(e)}}}function $s(l){let e,n,t;return{c(){e=h("div")},m(s,r){v(s,e,r),n||(t=fn(l[2].call(null,e)),n=!0)},p:N,d(s){s&&k(e),n=!1,t()}}}function ws(l){let e;return{c(){e=h("p"),e.textContent="Loading"},m(n,t){v(n,e,t)},p:N,d(n){n&&k(e)}}}function ys(l){let e,n={ctx:l,current:null,token:null,hasCatch:!0,pending:ws,then:$s,catch:ks,error:4};return xe(ke.loader,n),{c(){e=h("div"),n.block.c(),g(e,"class","yt-iframe-container"),ee(e,"hide",!l[0]||l[1])},m(t,s){v(t,e,s),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(t,[s]){l=t,Ze(n,l,s),s&3&&ee(e,"hide",!l[0]||l[1])},i:N,o:N,d(t){t&&k(e),n.block.d(),n.token=null,n=null}}}function Es(l,e,n){let t,s;W(l,et,c=>n(0,t=c)),W(l,ot,c=>n(1,s=c));const r=c=>{const a=c.target;a.setSize("100%","100%"),a.setVolume(100),a.cuePlaylist({list:"PLXbcR6eu19MIR6yMyfFnRWdiRptMO7Eai",listType:"playlist"})},i=c=>{ke.addEventListener(ke.READY,r),ke.mount(c)};return Ye(()=>{ke.removeEventListener(ke.READY,r),ke.destroy()}),[t,s,i]}class Ss extends Y{constructor(e){super();z(this,e,Es,ys,H,{})}}function sn(l){let e,n,t,s,r;e=new vs({props:{title:l[1].pageTitle}});var i=l[1].component;function c(a){return{}}return i&&(t=new i(c())),{c(){R(e.$$.fragment),n=S(),t&&R(t.$$.fragment),s=oe()},m(a,o){I(e,a,o),v(a,n,o),t&&I(t,a,o),v(a,s,o),r=!0},p(a,o){const u={};if(o&2&&(u.title=a[1].pageTitle),e.$set(u),i!==(i=a[1].component)){if(t){te();const f=t;E(f.$$.fragment,1,0,()=>{C(f,1)}),ne()}i?(t=new i(c()),R(t.$$.fragment),w(t.$$.fragment,1),I(t,s.parentNode,s)):t=null}},i(a){r||(w(e.$$.fragment,a),t&&w(t.$$.fragment,a),r=!0)},o(a){E(e.$$.fragment,a),t&&E(t.$$.fragment,a),r=!1},d(a){C(e,a),a&&k(n),a&&k(s),t&&C(t,a)}}}function Ts(l){let e,n,t,s,r,i,c;n=new gs({});let a=!l[0]&&sn(l);return i=new Ss({}),{c(){e=h("header"),R(n.$$.fragment),t=S(),s=h("main"),a&&a.c(),r=S(),R(i.$$.fragment)},m(o,u){v(o,e,u),I(n,e,null),v(o,t,u),v(o,s,u),a&&a.m(s,null),b(s,r),I(i,s,null),c=!0},p(o,[u]){o[0]?a&&(te(),E(a,1,1,()=>{a=null}),ne()):a?(a.p(o,u),u&1&&w(a,1)):(a=sn(o),a.c(),w(a,1),a.m(s,r))},i(o){c||(w(n.$$.fragment,o),w(a),w(i.$$.fragment,o),c=!0)},o(o){E(n.$$.fragment,o),E(a),E(i.$$.fragment,o),c=!1},d(o){o&&k(e),C(n),o&&k(t),o&&k(s),a&&a.d(),C(i)}}}function As(l,e,n){let t,s;return W(l,ot,r=>n(0,t=r)),W(l,M,r=>n(1,s=r)),at.init(),M.goto("href","tabata"),[t,s]}class Ps extends Y{constructor(e){super();z(this,e,As,Ts,H,{})}}new Ps({target:document.getElementById("app_container")});
